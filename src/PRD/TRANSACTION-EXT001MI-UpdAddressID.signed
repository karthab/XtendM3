{"signature":"Ai0XFPEvrZSFGwACPCcT8bN0xOa7l2KxRD0y7IlNrrhSXsIslX2Ft4HLg5ojM0Rn84ob7DBUmlw7ROEKDWi63hgEBhX3zo1SkYtAr0e6Us502hi860MXGuw34UH7PcKY8C+7VkUV8v/G+qDq+htcvOGoL6/mYqi6SkYoj97DMhLUztwP8dJTyBwzCqXs3cCmoMon1ckIon6N1lwjSeYZnKjnX7R8A6dJNNVeTdRbThUq4KSjHjW5r7IB52iRAAXaArtY2dGZzJ9uSn2wD5jy+kmSMi45jSb46BYytZ8XZu9crFHb4l7zcR22/sCRYBXY33JJnmVoMiSaJTWWJd0fzdfCsoZPOqvkzrb10jT+37RvPn64vy1I62A0IOuA3O+IvmNr0E6hyoiSK0Ab2LxhyIAOUNrjRszb4iOIHPQY7c4zLnFuta/OOtZTxvPcVB2ctA5lng7LMkob51QOKCjcmAQvU3Rk/SAoZ2EDL3C9zpVQgyxkiwJMDEuNpSjNa8s/F0K5zX60wB1KSP1T2PTBzT5MSkqn0xNba00h0tKbNlz45FnB5wa2w+XeWZkNTEVkM7x8WHa7d9U/QryPcCmyoze2e95jNt6zyuX3mN2SVwvUyoMvt5aiqlgwAP2m4++3+he01+GIgxalB9bZ/HwD7SmAZAHjE8E7oy1wwPpuEzh0","signedBy":"XtendM3 Team","signed":1750825968277,"message":"Signed by XtendM3 Team","extension":"{\"programModules\":{\"EXT001MI\":{\"program\":\"EXT001MI\",\"triggers\":{},\"transactions\":{\"UpdAddressID\":{\"sourceUuid\":\"a1582017-24ae-476d-b723-677067adf0e0\",\"name\":\"UpdAddressID\",\"program\":\"EXT001MI\",\"description\":\"Update address ID\",\"active\":true,\"multi\":false,\"modified\":1744997451524,\"modifiedBy\":\"AGOPAL\",\"outputFields\":[],\"inputFields\":[{\"name\":\"CONO\",\"description\":\"Company\",\"length\":3,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"ORNO\",\"description\":\"CO number\",\"length\":10,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"ADID\",\"description\":\"Address ID\",\"length\":6,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"ADVI\",\"description\":\"Ship-via address\",\"length\":6,\"mandatory\":false,\"type\":\"A\"}],\"utilities\":[\"DateUtil\"],\"market\":\"ALL\"}},\"batches\":{},\"advancedPrograms\":{}}},\"utilities\":{},\"sources\":{\"a1582017-24ae-476d-b723-677067adf0e0\":{\"uuid\":\"a1582017-24ae-476d-b723-677067adf0e0\",\"updated\":1749838267771,\"updatedBy\":\"AGOPAL\",\"created\":1742248076131,\"createdBy\":\"AGOPAL\",\"apiVersion\":\"0.21\",\"beVersion\":\"16.0.0.20250318170439.10\",\"language\":\"GROOVY\",\"codeHash\":\"D2A31EC9E4BFB94A5FEAF759F09BB50D721CA3307DE1384709B716CAEE091417\",\"code\":\"LyoqDQogKiAgQnVzaW5lc3MgRW5naW5lIEV4dGVuc2lvbg0KICovDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KIEV4dGVuc2lvbiBOYW1lOiBVcGRBZGRyZXNzSUQNCiBUeXBlIDogRXh0ZW5kTTNUcmFuc2FjdGlvbg0KIFNjcmlwdCBBdXRob3I6IEFydW4gR29wYWwNCiBEYXRlOiAyMDI1LTAzLTE4DQogRGVzY3JpcHRpb246IFVwZGF0aW5nIEFkZHJlc3MgSUQgYW5kIFNoaXAtdmlhIEFkZHJlc3MgaW4gT0lTMTAyL0UgdmlhIEFQSSB0cmFuc2FjdGlvbg0KIFJldmlzaW9uIEhpc3Rvcnk6DQogTmFtZSAgICAgICAgICAgICAgICAgRGF0ZSAgICAgICAgICAgICBWZXJzaW9uICAgICAgICAgIERlc2NyaXB0aW9uIG9mIENoYW5nZXMNCiBBcnVuIEdvcGFsICAgICAgICAgICAyMDI1LTAzLTE4ICAgICAgIDEuMCAgICAgICAgICAgICAgSW5pdGlhbCBWZXJzaW9uDQogQXJ1biBHb3BhbCAgICAgICAgICAgMjAyNS0wNi0xMyAgICAgICAxLjEgICAgICAgICAgICAgIEFkZGluZyBtZXRob2QgY29tbWVudHMNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQovKioNCiAqIFBhcmFtZXRlcnM6IChBbGwgcGFyYW1ldGVycyBhcmUgbWFuZGF0b3J5KQ0KICogQ09OTyAtIENvbXBhbnkNCiAqIE9STk8gLSBDTyBudW1iZXIgKE1hbmRhdG9yeSkNCiAqIEFESUQgLSBBZGRyZXNzIElEIChNYW5kYXRvcnkpDQogKiBBRFZJIC0gU2hpcC12aWEgYWRkcmVzcyAoTWFuZGF0b3J5KQ0KICovDQoNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOw0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQoNCnB1YmxpYyBjbGFzcyBVcGRBZGRyZXNzSUQgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KICBTdHJpbmcgZXJyb3JNc2c7DQogIFN0cmluZyBPREFESUQ7DQogIFN0cmluZyBBRElEOw0KICBTdHJpbmcgQURWSTsNCiAgU3RyaW5nIENISUQ7DQogIGludCBSR0RUOw0KICBpbnQgUkdUTTsNCiAgU3RyaW5nIElOUkM7DQogIFN0cmluZyBERUNVOw0KICBTdHJpbmcgQ1VOTzsNCiAgLy8gRmllbGRzIG9mIE9PQURSRQ0KICBTdHJpbmcgQ1VOTTsNCiAgU3RyaW5nIENVQTE7DQogIFN0cmluZyBDVUEyOw0KICBTdHJpbmcgQ1VBMzsNCiAgU3RyaW5nIENVQTQ7DQogIFN0cmluZyBQT05POw0KICBTdHJpbmcgUEhOTzsNCiAgU3RyaW5nIFRGTk87DQogIFN0cmluZyBZUkVGOw0KICBTdHJpbmcgQ1NDRDsNCiAgU3RyaW5nIFZSTk87DQogIFN0cmluZyBFREVTOw0KICBTdHJpbmcgVUxaTzsNCiAgaW50IEdFT0M7DQogIFN0cmluZyBUQVhDOw0KICBTdHJpbmcgRUNBUjsNCiAgU3RyaW5nIEhBRkU7DQogIFN0cmluZyBETFNQOw0KICBTdHJpbmcgRFNUWDsNCiAgU3RyaW5nIE1PREw7DQogIFN0cmluZyBURURMOw0KICBTdHJpbmcgVEVMMjsNCiAgU3RyaW5nIFRPV047DQogIFN0cmluZyBGUkNPOw0KICBTdHJpbmcgU1BMRTsNCiAgU3RyaW5nIFJBU047DQoNCiAgcHVibGljIFVwZEFkZHJlc3NJRChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgVXRpbGl0eUFQSSB1dGlsaXR5KSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHk7DQogIH0NCg0KICAvKioNCiAgICogTWFpbiBtZXRob2QNCiAgICogQHJldHVybg0KICAgKi8NCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpbnQgQ09OTyA9IG1pLmdldEluKCkuZ2V0KCJDT05PIikgPT0gbnVsbCA/IChpbnQpIHByb2dyYW0uZ2V0TERBWkQoKS5nZXQoIkNPTk8iKSA6IChpbnQpIG1pLmdldEluKCkuZ2V0KCJDT05PIik7DQogICAgU3RyaW5nIE9STk8gPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiT1JOTyIpOw0KICAgIEFESUQgPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiQURJRCIpOw0KICAgIEFEVkkgPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiQURWSSIpOw0KICAgIENISUQgPSB0aGlzLnByb2dyYW0uZ2V0VXNlcigpOw0KICAgIFJHRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnREYXRlWThBc0ludCIpOw0KICAgIFJHVE0gPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnRUaW1lQXNJbnQiKTsNCg0KICAgIGJvb2xlYW4gbnVsbFZhbHVlID0gZmFsc2U7DQogICAgaWYgKEFESUQgPT0gbnVsbCAmJiBBRFZJID09IG51bGwpIHsNCiAgICAgIG51bGxWYWx1ZSA9IHRydWU7DQogICAgfSBlbHNlIGlmIChBRElEICE9IG51bGwgJiYgQURWSSAhPSBudWxsKSB7DQogICAgICBudWxsVmFsdWUgPSB0cnVlOw0KICAgIH0NCiAgICBpZiAobnVsbFZhbHVlKSB7DQogICAgICBtaS5lcnJvcigiRWl0aGVyIEFkZHJlc3MgSUQgb3IgU2hpcC12aWEgYWRkcmVzcyBtdXN0IGJlIGVudGVyZWQuIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vIFZhbGlkYXRlIEN1c3RvbWVyIG9yZGVyDQogICAgYm9vbGVhbiByZWNvcmRPT0hFQUQgPSB2YWxpZGF0ZUN1c3RvbWVyT3JkZXIoQ09OTywgT1JOTyk7DQogICAgaWYgKCFyZWNvcmRPT0hFQUQpIHsNCiAgICAgIG1pLmVycm9yKGVycm9yTXNnKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYgKEFESUQgIT0gbnVsbCAmJiBBRFZJID09IG51bGwpIHsNCiAgICAgIC8vIFZhbGlkYXRpb24gZm9yIEFkZHJlc3MgSUQNCiAgICAgIGJvb2xlYW4gcmVjb3JkT0RBRElEID0gcmV0cmlldmVDdXJyZW50QWRkcmVzc0lEKENPTk8sIE9STk8pOw0KICAgICAgaWYgKCFyZWNvcmRPREFESUQpIHsNCiAgICAgICAgLy9ObyBhY3Rpb24gaXMgdGFrZW4NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIERCQWN0aW9uIGRiYU9PQURSRSA9IGRhdGFiYXNlLnRhYmxlKCJPT0FEUkUiKQ0KICAgICAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgICAgIC5zZWxlY3Rpb24oIk9EQ09OTyIsICJPRE9STk8iLCAiT0RBRFJUIiwgIk9EQURJRCIpDQogICAgICAgICAgLmJ1aWxkKCk7DQogICAgICAgIERCQ29udGFpbmVyIGNvbk9PQURSRSA9IGRiYU9PQURSRS5nZXRDb250YWluZXIoKTsNCiAgICAgICAgY29uT09BRFJFLnNldCgiT0RDT05PIiwgQ09OTyk7DQogICAgICAgIGNvbk9PQURSRS5zZXQoIk9ET1JOTyIsIE9STk8pOw0KICAgICAgICBjb25PT0FEUkUuc2V0KCJPREFEUlQiLCAxKTsNCiAgICAgICAgY29uT09BRFJFLnNldCgiT0RBRElEIiwgT0RBRElEKTsNCiAgICAgICAgaWYgKGRiYU9PQURSRS5yZWFkKGNvbk9PQURSRSkpIHsNCiAgICAgICAgICBTdHJpbmcgT0RBRFJUID0gY29uT09BRFJFLmdldCgiT0RBRFJUIik7DQogICAgICAgICAgLy8NCiAgICAgICAgICBib29sZWFuIHJldHVyblZhbHVlID0gdmFsaWRhdGVBRElESW5PQ1VTQUQoQ09OTywgT0RBRFJUKTsNCiAgICAgICAgICBpZiAoIXJldHVyblZhbHVlKSB7DQogICAgICAgICAgICAvL05vIGFjdGlvbiB0YWtlbg0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBib29sZWFuIHJlY29yZE9PQURSRSA9IHVwZGF0ZVNoaXBWaWFBZGRyZXNzSW5DT0FkZHJlc3MoQ09OTywgT1JOTywgMSk7DQogICAgICAgICAgICBpZiAoIXJlY29yZE9PQURSRSkgew0KICAgICAgICAgICAgICAvL05vIGFjdGlvbiB0YWtlbg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0gZWxzZSBpZiAoQURJRCA9PSBudWxsICYmIEFEVkkgIT0gbnVsbCkgew0KICAgICAgLy8gVmFsaWRhdGlvbiBmb3IgU2hpcC12aWEgYWRkcmVzcw0KICAgICAgYm9vbGVhbiByZWNvcmRPREFESUQgPSByZXRyaWV2ZUN1cnJlbnRBZGRyZXNzSUQoQ09OTywgT1JOTyk7DQogICAgICBpZiAoIXJlY29yZE9EQURJRCkgew0KICAgICAgICAvL05vIGFjdGlvbiB0YWtlbg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgQURJRCA9IE9EQURJRDsNCiAgICAgICAgLy8NCiAgICAgICAgREJBY3Rpb24gZGJhQ0lTSFZJMDAgPSBkYXRhYmFzZS50YWJsZSgiQ0lTSFZJIikNCiAgICAgICAgICAuaW5kZXgoIjAwIikNCiAgICAgICAgICAuc2VsZWN0aW9uKCJJTENPTk8iLCAiSUxBRFZJIikNCiAgICAgICAgICAuYnVpbGQoKTsNCiAgICAgICAgREJDb250YWluZXIgY29uQ0lTSFZJMDAgPSBkYmFDSVNIVkkwMC5nZXRDb250YWluZXIoKTsNCiAgICAgICAgY29uQ0lTSFZJMDAuc2V0SW50KCJJTENPTk8iLCBDT05PKTsNCiAgICAgICAgY29uQ0lTSFZJMDAuc2V0KCJJTEFEVkkiLCBBRFZJKTsNCiAgICAgICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyQ0lTSFZJID0gew0KICAgICAgICAgIERCQ29udGFpbmVyIGRhdGFDSVNIVkkgLT4NCiAgICAgICAgICBTdHJpbmcgSUxBRFZJID0gZGF0YUNJU0hWSS5nZXQoIklMQURWSSIpOw0KICAgICAgICAgIC8vDQogICAgICAgICAgYm9vbGVhbiByZWNvcmRPT0FEUkUgPSB1cGRhdGVTaGlwVmlhQWRkcmVzc0luQ09BZGRyZXNzKENPTk8sIE9STk8sIDIpOw0KICAgICAgICAgIGlmICghcmVjb3JkT09BRFJFKSB7DQogICAgICAgICAgICAvL05vIGFjdGlvbiB0YWtlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoIWRiYUNJU0hWSTAwLnJlYWRBbGwoY29uQ0lTSFZJMDAsIDIsIDEsIHJlc3VsdEhhbmRsZXJDSVNIVkkpKSB7DQogICAgICAgICAgbWkuZXJyb3IoIlNoaXAtdmlhIGFkZHJlc3MgIiArIEFEVkkgKyAiIGlzIGludmFsaWQiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgLy8gQ2hlY2sgaWYgQ3VzdG9tZXIgb3JkZXIgaXMgb3Blbg0KICAgIERCQWN0aW9uIGRiYU9PSEVBRCA9IGRhdGFiYXNlLnRhYmxlKCJPT0hFQUQiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJPQUNPTk8iLCAiT0FPUk5PIiwgIk9BSE9DRCIsICJPQUpOQSIsICJPQUpOVSIsICJPQUNISUQiKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29uT09IRUFEID0gZGJhT09IRUFELmdldENvbnRhaW5lcigpOw0KICAgIGNvbk9PSEVBRC5zZXQoIk9BQ09OTyIsIENPTk8pOw0KICAgIGNvbk9PSEVBRC5zZXQoIk9BT1JOTyIsIE9STk8pOw0KICAgIGlmIChkYmFPT0hFQUQucmVhZChjb25PT0hFQUQpKSB7DQogICAgICBJbnRlZ2VyIEhPQ0QgPSBjb25PT0hFQUQuZ2V0KCJPQUhPQ0QiKTsNCiAgICAgIGlmIChIT0NEID09IDEpIHsNCiAgICAgICAgbWkuZXJyb3IoIk9yZGVyICIgKyBPUk5PICsgIiBpcyBsb2NrZWQgYnkgam9iOiAiICsgY29uT09IRUFELmdldFN0cmluZygiT0FKTkEiKSArICIgIiArIGNvbk9PSEVBRC5nZXRTdHJpbmcoIk9BQ0hJRCIpICsgIiAiICsgY29uT09IRUFELmdldEludCgiT0FKTlUiKSk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9DQogICAgLy8gVXBkYXRlIEFkZHJlc3MgSUQgaW4gQ08gaGVhZGVyDQogICAgREJBY3Rpb24gcXVlcnlPT0hFQUQgPSBkYXRhYmFzZS50YWJsZSgiT09IRUFEIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiT0FDT05PIiwgIk9BT1JOTyIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJPT0hFQUQgPSBxdWVyeU9PSEVBRC5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXJPT0hFQUQuc2V0SW50KCJPQUNPTk8iLCBDT05PKTsNCiAgICBjb250YWluZXJPT0hFQUQuc2V0KCJPQU9STk8iLCBPUk5PKTsNCiAgICBxdWVyeU9PSEVBRC5yZWFkTG9jayhjb250YWluZXJPT0hFQUQsIHVwZGF0ZUNhbGxCYWNrKTsNCiAgICAvLyBVcGRhdGUgQWRkcmVzcyBJRCBpbiBDTyBsaW5lcw0KICAgIERCQWN0aW9uIGRiYU9PTElORSA9IGRhdGFiYXNlLnRhYmxlKCJPT0xJTkUiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJPQkNPTk8iLCAiT0JPUk5PIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk9PTElORSA9IGRiYU9PTElORS5nZXRDb250YWluZXIoKTsNCiAgICBjb25PT0xJTkUuc2V0SW50KCJPQkNPTk8iLCBDT05PKTsNCiAgICBjb25PT0xJTkUuc2V0KCJPQk9STk8iLCBPUk5PKTsNCiAgICBDbG9zdXJlIDwgPyA+IHJlc3VsdEhhbmRsZXJPT0xJTkUgPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhT09MSU5FIC0+DQogICAgICBJbnRlZ2VyIFBPTlIgPSBkYXRhT09MSU5FLmdldCgiT0JQT05SIik7DQogICAgICBJbnRlZ2VyIFBPU1ggPSBkYXRhT09MSU5FLmdldCgiT0JQT1NYIik7DQogICAgICAvLw0KICAgICAgREJBY3Rpb24gcXVlcnlPT0xJTkUgPSBkYXRhYmFzZS50YWJsZSgiT09MSU5FIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiT0JDT05PIiwgIk9CT1JOTyIsICJPQlBPTlIiLCAiT0JQT1NYIikNCiAgICAgIC5idWlsZCgpOw0KICAgICAgREJDb250YWluZXIgY29udGFpbmVyT09MSU5FID0gcXVlcnlPT0xJTkUuZ2V0Q29udGFpbmVyKCk7DQogICAgICBjb250YWluZXJPT0xJTkUuc2V0SW50KCJPQkNPTk8iLCBDT05PKTsNCiAgICAgIGNvbnRhaW5lck9PTElORS5zZXQoIk9CT1JOTyIsIE9STk8pOw0KICAgICAgY29udGFpbmVyT09MSU5FLnNldEludCgiT0JQT05SIiwgUE9OUik7DQogICAgICBjb250YWluZXJPT0xJTkUuc2V0SW50KCJPQlBPU1giLCBQT1NYKTsNCiAgICAgIHF1ZXJ5T09MSU5FLnJlYWRMb2NrKGNvbnRhaW5lck9PTElORSwgdXBkYXRlQ2FsbEJhY2sxKTsNCiAgICB9DQogICAgaWYgKCFkYmFPT0xJTkUucmVhZEFsbChjb25PT0xJTkUsIDIsIDk5OTksIHJlc3VsdEhhbmRsZXJPT0xJTkUpKSB7DQogICAgICAvL05vIGFjdGlvbiB0YWtlbg0KICAgIH0NCiAgICB1cGRhdGVTaGlwVmlhQWRkcmVzc0luQ3VzdG9tZXJBZGRyZXNzKENPTk8sIENVTk8pOw0KICAgIHVwZGF0ZUFEVklfQURJREluRGVsaXZlcnkoQ09OTywgT1JOTyk7DQogIH0NCg0KICAvKioNCiAgICogUmVhZCBlYWNoIGRlbGl2ZXJ5IG51bWJlciBhc3NvY2lhdGVkIHRvIHRoZQ0KICAgKiBDdXN0b21lciBvcmRlciBhbmQgcHJvY2VlZCBmb3IgdXBkYXRlDQogICAqLw0KICBwcml2YXRlIFN0cmluZyB1cGRhdGVBRFZJX0FESURJbkRlbGl2ZXJ5KGludCBDT05PLCBTdHJpbmcgT1JOTykgew0KICAgIC8vIFVwZGF0ZSBBZGRyZXNzIElEIGFuZCBTaGlwLXZpYSBBZGRyZXNzIGluIERlbGl2ZXJ5DQogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNSERJU0giKTsNCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5lcSgiT1FSSUROIiwgT1JOTyk7DQogICAgREJBY3Rpb24gZGJhTUhESVNIID0gZGF0YWJhc2UudGFibGUoIk1IRElTSCIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5tYXRjaGluZyhleHByZXNzaW9uKQ0KICAgICAgLnNlbGVjdGlvbigiT1FDT05PIiwgIk9RSU5PVSIsICJPUVJJRE4iLCAiT1FETElYIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk1IRElTSCA9IGRiYU1IRElTSC5nZXRDb250YWluZXIoKTsNCiAgICBjb25NSERJU0guc2V0SW50KCJPUUNPTk8iLCBDT05PKTsNCiAgICBjb25NSERJU0guc2V0SW50KCJPUUlOT1UiLCAxKTsNCiAgICBDbG9zdXJlIDwgPyA+IHJlc3VsdEhhbmRsZXJNSERJU0ggPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhTUhESVNIIC0+DQogICAgICBsb25nIERMSVggPSBkYXRhTUhESVNILmdldCgiT1FETElYIik7DQogICAgICAvLw0KICAgICAgREJBY3Rpb24gcXVlcnlNSERJU0ggPSBkYXRhYmFzZS50YWJsZSgiTUhESVNIIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiT1FDT05PIiwgIk9RSU5PVSIsICJPUURMSVgiKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSERJU0ggPSBxdWVyeU1IRElTSC5nZXRDb250YWluZXIoKTsNCiAgICAgIGNvbnRhaW5lck1IRElTSC5zZXRJbnQoIk9RQ09OTyIsIENPTk8pOw0KICAgICAgY29udGFpbmVyTUhESVNILnNldEludCgiT1FJTk9VIiwgMSk7DQogICAgICBjb250YWluZXJNSERJU0guc2V0TG9uZygiT1FETElYIiwgRExJWCk7DQogICAgICBxdWVyeU1IRElTSC5yZWFkTG9jayhjb250YWluZXJNSERJU0gsIHVwZGF0ZUNhbGxCYWNrNCk7DQogICAgfQ0KICAgIGlmICghZGJhTUhESVNILnJlYWRBbGwoY29uTUhESVNILCAyLCA5OTk5LCByZXN1bHRIYW5kbGVyTUhESVNIKSkgew0KICAgICAgLy9ObyBhY3Rpb24gdGFrZW4NCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogQ2FsbCB0byB1cGRhdGUgbWV0aG9kDQogICAqLw0KICBwcml2YXRlIFN0cmluZyB1cGRhdGVTaGlwVmlhQWRkcmVzc0luQ3VzdG9tZXJBZGRyZXNzKGludCBDT05PLCBTdHJpbmcgQ1VOTykgew0KICAgIERCQWN0aW9uIHF1ZXJ5T0NVU0FEID0gZGF0YWJhc2UudGFibGUoIk9DVVNBRCIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5zZWxlY3Rpb24oIk9QQ09OTyIsICJPUENVTk8iLCAiT1BBRFJUIiwgIk9QQURJRCIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJPQ1VTQUQgPSBxdWVyeU9DVVNBRC5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXJPQ1VTQUQuc2V0SW50KCJPUENPTk8iLCBDT05PKTsNCiAgICBjb250YWluZXJPQ1VTQUQuc2V0KCJPUENVTk8iLCBDVU5PKTsNCiAgICBjb250YWluZXJPQ1VTQUQuc2V0SW50KCJPUEFEUlQiLCAxKTsNCiAgICBjb250YWluZXJPQ1VTQUQuc2V0KCJPUEFESUQiLCBPREFESUQpOw0KICAgIHF1ZXJ5T0NVU0FELnJlYWRMb2NrKGNvbnRhaW5lck9DVVNBRCwgdXBkYXRlQ2FsbEJhY2szKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBSZXRyaWV2ZSB0aGUgQWRkcmVzcyBJRCBmcm9tIENPIGFkZHJlc3MNCiAgICogQHJldHVybiByZWNvcmQgZm91bmQvbm90IGZvdW5kDQogICAqLw0KICBwcml2YXRlIGJvb2xlYW4gcmV0cmlldmVDdXJyZW50QWRkcmVzc0lEKGludCBDT05PLCBTdHJpbmcgT1JOTykgew0KICAgIGJvb2xlYW4gdmFsdWUgPSAiIjsNCiAgICBEQkFjdGlvbiBkYk9PQURSRSA9IGRhdGFiYXNlLnRhYmxlKCJPT0FEUkUiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJPRENPTk8iLCAiT0RPUk5PIiwgIk9EQURSVCIsICJPREFESUQiKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udE9PQURSRSA9IGRiT09BRFJFLmdldENvbnRhaW5lcigpOw0KICAgIGNvbnRPT0FEUkUuc2V0SW50KCJPRENPTk8iLCBDT05PKTsNCiAgICBjb250T09BRFJFLnNldCgiT0RPUk5PIiwgT1JOTyk7DQogICAgY29udE9PQURSRS5zZXRJbnQoIk9EQURSVCIsIDEpOw0KICAgIENsb3N1cmUgPCA/ID4gcmVzdWx0SGFuZGxlck9PQURSRSA9IHsNCiAgICAgIERCQ29udGFpbmVyIGRhdGFPT0FEUkUgLT4NCiAgICAgIE9EQURJRCA9IGRhdGFPT0FEUkUuZ2V0KCJPREFESUQiKTsNCiAgICB9DQogICAgaWYgKCFkYk9PQURSRS5yZWFkQWxsKGNvbnRPT0FEUkUsIDMsIDEsIHJlc3VsdEhhbmRsZXJPT0FEUkUpKSB7DQogICAgICBlcnJvck1zZyA9ICJSZWNvcmQgZG9lcyBub3QgZXhpc3QiOw0KICAgICAgdmFsdWUgPSBmYWxzZTsNCiAgICB9IGVsc2Ugew0KICAgICAgZXJyb3JNc2cgPSAiIjsNCiAgICAgIHZhbHVlID0gdHJ1ZTsNCiAgICB9DQogICAgcmV0dXJuIHZhbHVlOw0KICB9DQoNCiAgLyoqDQogICAqIFZhbGlkYXRpbmcgdGhlIEN1c3RvbWVyIG9yZGVyDQogICAqIEByZXR1cm4gcmVjb3JkIGZvdW5kL25vdCBmb3VuZA0KICAgKi8NCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkYXRlQ3VzdG9tZXJPcmRlcihpbnQgQ09OTywgU3RyaW5nIE9STk8pIHsNCiAgICBib29sZWFuIHZhbHVlID0gdHJ1ZTsNCiAgICBEQkFjdGlvbiBkYmFPT0hFQUQwMCA9IGRhdGFiYXNlLnRhYmxlKCJPT0hFQUQiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJPQUNPTk8iLCAiT0FPUk5PIiwgIk9BSU5SQyIsICJPQURFQ1UiLCAiT0FDVU5PIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk9PSEVBRDAwID0gZGJhT09IRUFEMDAuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uT09IRUFEMDAuc2V0KCJPQUNPTk8iLCBDT05PKTsNCiAgICBjb25PT0hFQUQwMC5zZXQoIk9BT1JOTyIsIE9STk8pOw0KICAgIGlmICghZGJhT09IRUFEMDAucmVhZChjb25PT0hFQUQwMCkpIHsNCiAgICAgIGVycm9yTXNnID0gIk9yZGVyIG51bWJlciAiICsgT1JOTyArICIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIENvbXBhbnkgIiArIENPTk87DQogICAgICB2YWx1ZSA9IGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICBJTlJDID0gY29uT09IRUFEMDAuZ2V0KCJPQUlOUkMiKTsNCiAgICAgIERFQ1UgPSBjb25PT0hFQUQwMC5nZXQoIk9BREVDVSIpOw0KICAgICAgQ1VOTyA9IGNvbk9PSEVBRDAwLmdldCgiT0FDVU5PIik7DQogICAgICBlcnJvck1zZyA9ICIiOw0KICAgICAgdmFsdWUgPSB0cnVlOw0KICAgIH0NCiAgICByZXR1cm4gdmFsdWU7DQogIH0NCg0KICAvKioNCiAgICogVmFsaWRhdGUgQWRkcmVzcyBJRCBhbmQgcmV0cmlldmUgdmFsdWVzDQogICAqIEByZXR1cm4gcmVjb3JkIGZvdW5kL25vdCBmb3VuZA0KICAgKi8NCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkYXRlQURJREluT0NVU0FEKGludCBDT05PLCBTdHJpbmcgT0RBRFJUKSB7DQogICAgYm9vbGVhbiB2YWx1ZSA9IHRydWU7DQogICAgREJBY3Rpb24gZGJhT0NVU0FEID0gZGF0YWJhc2UudGFibGUoIk9DVVNBRCIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5zZWxlY3Rpb24oIk9QQ09OTyIsICJPUENVTk8iLCAiT1BBRFJUIiwgIk9QQURWSSIsICJPUEFESUQiLCAiT1BDVU5NIiwgIk9QQ1VOTSIsICJPUENVQTEiLA0KICAgICAgICAiT1BDVU5NIiwgIk9QQ1VBMSIsICJPUENVQTIiLCAiT1BDVUEzIiwgIk9QQ1VBNCIsICJPUFBPTk8iLCAiT1BQSE5PIiwgIk9QVEZOTyIsDQogICAgICAgICJPUFlSRUYiLCAiT1BDU0NEIiwgIk9QVlJOTyIsICJPUEVERVMiLCAiT1BVTFpPIiwgIk9QR0VPQyIsICJPUFRBWEMiLCAiT1BFQ0FSIiwNCiAgICAgICAgIk9QSEFGRSIsICJPUE1PREwiLCAiT1BURURMIiwgIk9QVEVMMiIsICJPUFRPV04iLCAiT1BGUkNPIiwgIk9QU1BMRSIsICJPUFJBU04iKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29uT0NVU0FEID0gZGJhT0NVU0FELmdldENvbnRhaW5lcigpOw0KICAgIGNvbk9DVVNBRC5zZXQoIk9QQ09OTyIsIENPTk8pOw0KICAgIGlmIChPREFEUlQuZXF1YWxzKCIzIikpIHsNCiAgICAgIGNvbk9DVVNBRC5zZXQoIk9QQ1VOTyIsIElOUkMpOw0KICAgIH0gZWxzZSBpZiAoT0RBRFJULmVxdWFscygiMSIpKSB7DQogICAgICBjb25PQ1VTQUQuc2V0KCJPUENVTk8iLCBERUNVKTsNCiAgICB9IGVsc2Ugew0KICAgICAgY29uT0NVU0FELnNldCgiT1BDVU5PIiwgQ1VOTyk7DQogICAgfQ0KICAgIGNvbk9DVVNBRC5zZXQoIk9QQURSVCIsIDEpOw0KICAgIGNvbk9DVVNBRC5zZXQoIk9QQURJRCIsIEFESUQpOw0KICAgIGlmICghZGJhT0NVU0FELnJlYWQoY29uT0NVU0FEKSkgew0KICAgICAgZXJyb3JNc2cgPSAiQWRkcmVzcyBJRCAiICsgQURJRCArICIgaXMgaW52YWxpZCI7DQogICAgICB2YWx1ZSA9IGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICBBRFZJID0gY29uT0NVU0FELmdldFN0cmluZygiT1BBRFZJIik7DQogICAgICBDVU5NID0gY29uT0NVU0FELmdldFN0cmluZygiT1BDVU5NIik7DQogICAgICBDVUExID0gY29uT0NVU0FELmdldFN0cmluZygiT1BDVUExIik7DQogICAgICBDVUEyID0gY29uT0NVU0FELmdldFN0cmluZygiT1BDVUEyIik7DQogICAgICBDVUEzID0gY29uT0NVU0FELmdldFN0cmluZygiT1BDVUEzIik7DQogICAgICBDVUE0ID0gY29uT0NVU0FELmdldFN0cmluZygiT1BDVUE0Iik7DQogICAgICBQT05PID0gY29uT0NVU0FELmdldFN0cmluZygiT1BQT05PIik7DQogICAgICBQSE5PID0gY29uT0NVU0FELmdldFN0cmluZygiT1BQSE5PIik7DQogICAgICBURk5PID0gY29uT0NVU0FELmdldFN0cmluZygiT1BURk5PIik7DQogICAgICBZUkVGID0gY29uT0NVU0FELmdldFN0cmluZygiT1BZUkVGIik7DQogICAgICBDU0NEID0gY29uT0NVU0FELmdldFN0cmluZygiT1BDU0NEIik7DQogICAgICBWUk5PID0gY29uT0NVU0FELmdldFN0cmluZygiT1BWUk5PIik7DQogICAgICBFREVTID0gY29uT0NVU0FELmdldFN0cmluZygiT1BFREVTIik7DQogICAgICBVTFpPID0gY29uT0NVU0FELmdldFN0cmluZygiT1BVTFpPIik7DQogICAgICBHRU9DID0gY29uT0NVU0FELmdldCgiT1BHRU9DIik7DQogICAgICBUQVhDID0gY29uT0NVU0FELmdldFN0cmluZygiT1BUQVhDIik7DQogICAgICBFQ0FSID0gY29uT0NVU0FELmdldFN0cmluZygiT1BFQ0FSIik7DQogICAgICBIQUZFID0gY29uT0NVU0FELmdldFN0cmluZygiT1BIQUZFIik7DQogICAgICBNT0RMID0gY29uT0NVU0FELmdldFN0cmluZygiT1BNT0RMIik7DQogICAgICBURURMID0gY29uT0NVU0FELmdldFN0cmluZygiT1BURURMIik7DQogICAgICBURUwyID0gY29uT0NVU0FELmdldFN0cmluZygiT1BURUwyIik7DQogICAgICBUT1dOID0gY29uT0NVU0FELmdldFN0cmluZygiT1BUT1dOIik7DQogICAgICBGUkNPID0gY29uT0NVU0FELmdldFN0cmluZygiT1BGUkNPIik7DQogICAgICBTUExFID0gY29uT0NVU0FELmdldFN0cmluZygiT1BTUExFIik7DQogICAgICBSQVNOID0gY29uT0NVU0FELmdldFN0cmluZygiT1BSQVNOIik7DQogICAgICBlcnJvck1zZyA9ICIiOw0KICAgICAgdmFsdWUgPSB0cnVlOw0KICAgIH0NCiAgICByZXR1cm4gdmFsdWU7DQogIH0NCg0KICAvKioNCiAgICogVXBkYXRlIEFkZHJlc3MgSUQgYW5kIFNoaXAtdmlhIGFkZHJlc3MNCiAgICogQHJldHVybiByZWNvcmQgdXBkYXRlZC9ub3QgdXBkYXRlZA0KICAgKi8NCiAgcHJpdmF0ZSBib29sZWFuIHVwZGF0ZVNoaXBWaWFBZGRyZXNzSW5DT0FkZHJlc3MoaW50IENPTk8sIFN0cmluZyBPUk5PLCBpbnQgY29uZGl0aW9uKSB7DQogICAgYm9vbGVhbiB2YWx1ZSA9IHRydWU7DQogICAgaWYgKGNvbmRpdGlvbiA9PSAxKSB7DQogICAgICBEQkFjdGlvbiBkYmFPT0FEUkUwMCA9IGRhdGFiYXNlLnRhYmxlKCJPT0FEUkUiKQ0KICAgICAgICAuaW5kZXgoIjAwIikNCiAgICAgICAgLnNlbGVjdGlvbigiT0RDT05PIiwgIk9ET1JOTyIsICJPREFEUlQiLCAiT0RBRElEIikNCiAgICAgICAgLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBjb25PT0FEUkUwMCA9IGRiYU9PQURSRTAwLmdldENvbnRhaW5lcigpOw0KICAgICAgY29uT09BRFJFMDAuc2V0SW50KCJPRENPTk8iLCBDT05PKTsNCiAgICAgIGNvbk9PQURSRTAwLnNldCgiT0RPUk5PIiwgT1JOTyk7DQogICAgICBjb25PT0FEUkUwMC5zZXRJbnQoIk9EQURSVCIsIDEpOw0KICAgICAgY29uT09BRFJFMDAuc2V0KCJPREFESUQiLCBPREFESUQpOw0KICAgICAgLy8gRGVsZXRlIHJlY29yZCBmcm9tIHRoZSB0YWJsZSBPT0FEUkUNCiAgICAgIENsb3N1cmUgPCA/ID4gZGVsZXRlT09BRFJFQ2FsbGJhY2sgPSB7DQogICAgICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4NCiAgICAgICAgbG9ja2VkUmVzdWx0LmRlbGV0ZSgpOw0KICAgICAgfQ0KICAgICAgaWYgKCFkYmFPT0FEUkUwMC5yZWFkTG9jayhjb25PT0FEUkUwMCwgZGVsZXRlT09BRFJFQ2FsbGJhY2spKSB7DQogICAgICAgIGVycm9yTXNnID0gIlJlY29yZCBkb2VzIG5vdCBleGlzdCI7DQogICAgICAgIHZhbHVlID0gZmFsc2U7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBlcnJvck1zZyA9ICIiOw0KICAgICAgICB2YWx1ZSA9IHRydWU7DQogICAgICB9DQogICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgLy8gVXBkYXRlIEFkZHJlc3MgSUQgaW4gQ08gY29ubmVjdCBhZGRyZXNzDQogICAgICAgIERCQWN0aW9uIHF1ZXJ5T09BRFJFID0gZGF0YWJhc2UudGFibGUoIk9PQURSRSIpDQogICAgICAgICAgLmluZGV4KCIwMCIpDQogICAgICAgICAgLnNlbGVjdGlvbigiT0RDT05PIiwgIk9ET1JOTyIsICJPREFEUlQiLCAiT0RBRElEIikNCiAgICAgICAgICAuYnVpbGQoKTsNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyT09BRFJFID0gcXVlcnlPT0FEUkUuY3JlYXRlQ29udGFpbmVyKCk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EQ09OTyIsIENPTk8pOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRE9STk8iLCBPUk5PKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RBRFJUIiwgMSk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EQURJRCIsIEFESUQpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRENVTk0iLCBDVU5NKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RDVUExIiwgQ1VBMSk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EQ1VBMiIsIENVQTIpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRENVQTMiLCBDVUEzKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RDVUE0IiwgQ1VBNCk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EUE9OTyIsIFBPTk8pOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRFBITk8iLCBQSE5PKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RURk5PIiwgVEZOTyk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EWVJFRiIsIFlSRUYpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRENTQ0QiLCBDU0NEKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RWUk5PIiwgVlJOTyk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9ERURFUyIsIEVERVMpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRFVMWk8iLCBVTFpPKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RHRU9DIiwgR0VPQyk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EVEFYQyIsIFRBWEMpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPREVDQVIiLCBFQ0FSKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RIQUZFIiwgSEFGRSk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9ERExTUCIsIERMU1ApOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRERTVFgiLCBEU1RYKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RNT0RMIiwgTU9ETCk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EVEVETCIsIFRFREwpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRFRFTDIiLCBURUwyKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RUT1dOIiwgVE9XTik7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EUkdEVCIsIFJHRFQpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRFJHVE0iLCBSR1RNKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RMTURUIiwgUkdEVCk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EQ0hOTyIsIDEpOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRENISUQiLCBDSElEKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RBRFZJIiwgQURWSSk7DQogICAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9ERlJDTyIsIEZSQ08pOw0KICAgICAgICBjb250YWluZXJPT0FEUkUuc2V0KCJPRFNQTEUiLCBTUExFKTsNCiAgICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RSQVNOIiwgUkFTTik7DQogICAgICAgIGJvb2xlYW4gcmVzdWx0ID0gcXVlcnlPT0FEUkUuaW5zZXJ0KGNvbnRhaW5lck9PQURSRSk7DQogICAgICAgIGlmICghcmVzdWx0KSB7DQogICAgICAgICAgZXJyb3JNc2cgPSAiRXJyb3Igd2hpbGUgYWRkaW5nIHJlY29yZCB0byB0YWJsZSBPT0FEUkUiOw0KICAgICAgICAgIHZhbHVlID0gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZXJyb3JNc2cgPSAiIjsNCiAgICAgICAgICB2YWx1ZSA9IHRydWU7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbiA9PSAyKSB7DQogICAgICBEQkFjdGlvbiBxdWVyeU9PQURSRSA9IGRhdGFiYXNlLnRhYmxlKCJPT0FEUkUiKQ0KICAgICAgICAuaW5kZXgoIjAwIikNCiAgICAgICAgLnNlbGVjdGlvbigiT0RDT05PIiwgIk9ET1JOTyIsICJPREFEUlQiLCAiT0RBRElEIikNCiAgICAgICAgLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJPT0FEUkUgPSBxdWVyeU9PQURSRS5nZXRDb250YWluZXIoKTsNCiAgICAgIGNvbnRhaW5lck9PQURSRS5zZXRJbnQoIk9EQ09OTyIsIENPTk8pOw0KICAgICAgY29udGFpbmVyT09BRFJFLnNldCgiT0RPUk5PIiwgT1JOTyk7DQogICAgICBjb250YWluZXJPT0FEUkUuc2V0SW50KCJPREFEUlQiLCAxKTsNCiAgICAgIGNvbnRhaW5lck9PQURSRS5zZXQoIk9EQURJRCIsIE9EQURJRCk7DQogICAgICBxdWVyeU9PQURSRS5yZWFkTG9jayhjb250YWluZXJPT0FEUkUsIHVwZGF0ZUNhbGxCYWNrMik7DQogICAgfQ0KICAgIHJldHVybiB2YWx1ZTsNCiAgfQ0KDQogIC8qKg0KICAgKiBVcGRhdGUgYm90aCB0aGUgQ29uc2lnbmVlIGFuZCBGaW5hbCBjb25zaWduZWUNCiAgICogYWRkcmVzcyBudW1iZXIgYWxvbmcgd2l0aCBTaGlwLXZpYSBhZGRyZXNzDQogICAqLw0KICBDbG9zdXJlIDwgPyA+IHVwZGF0ZUNhbGxCYWNrNCA9IHsNCiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+DQogICAgaW50IExNRFQgPSBSR0RUOw0KICAgIGludCBDSE5PID0gKEludGVnZXIpIGxvY2tlZFJlc3VsdC5nZXQoIk9RQ0hOTyIpICsgMQ0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9RQ09BQSIsIEFESUQpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9RQ09BRiIsIEFESUQpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9RQURWSSIsIEFEVkkpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9RTE1EVCIsIExNRFQpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9RQ0hOTyIsIENITk8pOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9RQ0hJRCIsIENISUQpOw0KICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKTsNCiAgfQ0KICANCiAgLyoqDQogICAqIFVwZGF0ZSBTaGlwLXZpYSBhZGRyZXNzIGluIEN1c3RvbWVyIGFkZHJlc3MNCiAgICovDQogIENsb3N1cmUgPCA/ID4gdXBkYXRlQ2FsbEJhY2szID0gew0KICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4NCiAgICBpbnQgTE1EVCA9IFJHRFQ7DQogICAgaW50IENITk8gPSAoSW50ZWdlcikgbG9ja2VkUmVzdWx0LmdldCgiT1BDSE5PIikgKyAxDQogICAgbG9ja2VkUmVzdWx0LnNldCgiT1BBRFZJIiwgQURWSSk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiT1BMTURUIiwgTE1EVCk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiT1BDSE5PIiwgQ0hOTyk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiT1BDSElEIiwgQ0hJRCk7DQogICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpOw0KICB9DQoNCiAgLyoqDQogICAqIFVwZGF0ZSBTaGlwLXZpYSBhZGRyZXNzIGluIEN1c3RvbWVyIG9yZGVyIGFkZHJlc3MNCiAgICovDQogIENsb3N1cmUgPCA/ID4gdXBkYXRlQ2FsbEJhY2syID0gew0KICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4NCiAgICBpbnQgTE1EVCA9IFJHRFQ7DQogICAgaW50IENITk8gPSAoSW50ZWdlcikgbG9ja2VkUmVzdWx0LmdldCgiT0RDSE5PIikgKyAxDQogICAgbG9ja2VkUmVzdWx0LnNldCgiT0RBRFZJIiwgQURWSSk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiT0RMTURUIiwgTE1EVCk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiT0RDSE5PIiwgQ0hOTyk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiT0RDSElEIiwgQ0hJRCk7DQogICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpOw0KICB9DQoNCiAgLyoqDQogICAqIFVwZGF0ZSBBZGRyZXNzIElEIGluIEN1c3RvbWVyIG9yZGVyIGxpbmVzDQogICAqLw0KICBDbG9zdXJlIDwgPyA+IHVwZGF0ZUNhbGxCYWNrMSA9IHsNCiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+DQogICAgaW50IExNRFQgPSBSR0RUOw0KICAgIGludCBDSE5PID0gKEludGVnZXIpIGxvY2tlZFJlc3VsdC5nZXQoIk9CQ0hOTyIpICsgMQ0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9CQURJRCIsIEFESUQpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9CTE1EVCIsIExNRFQpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9CQ0hOTyIsIENITk8pOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIk9CQ0hJRCIsIENISUQpOw0KICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBVcGRhdGUgQWRkcmVzcyBJRCBpbiBDdXN0b21lciBvcmRlciBoZWFkZXINCiAgICovDQogIENsb3N1cmUgPCA/ID4gdXBkYXRlQ2FsbEJhY2sgPSB7DQogICAgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPg0KICAgIGludCBMTURUID0gUkdEVDsNCiAgICBpbnQgQ0hOTyA9IChJbnRlZ2VyKSBsb2NrZWRSZXN1bHQuZ2V0KCJPQUNITk8iKSArIDENCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJPQUFESUQiLCBBRElEKTsNCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJPQUxNRFQiLCBMTURUKTsNCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJPQUNITk8iLCBDSE5PKTsNCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJPQUNISUQiLCBDSElEKTsNCiAgICBsb2NrZWRSZXN1bHQudXBkYXRlKCk7DQogIH0NCn0=\"}}}"}