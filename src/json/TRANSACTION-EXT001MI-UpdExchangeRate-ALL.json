{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdExchangeRate":{"sourceUuid":"bdac54da-b9ed-47c8-a3e3-52664614e1fa","name":"UpdExchangeRate","program":"EXT001MI","description":"Update exchange rate","active":true,"multi":false,"modified":1750661452167,"modifiedBy":"AGOPAL","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A","refField":null},{"name":"ORNO","description":"CO number","length":10,"mandatory":false,"type":"A","refField":null}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"bdac54da-b9ed-47c8-a3e3-52664614e1fa":{"uuid":"bdac54da-b9ed-47c8-a3e3-52664614e1fa","updated":1750661757673,"updatedBy":"AGOPAL","created":1743984475253,"createdBy":"AGOPAL","apiVersion":"0.21","beVersion":"16.0.0.20250414161800.6","language":"GROOVY","codeHash":"8F173C65543C518BA1D256E6A7D76100421E4AE2BC7C17F94AC7176CA5D6F716","code":"LyoqDQogKiAgQnVzaW5lc3MgRW5naW5lIEV4dGVuc2lvbg0KICovDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KIEV4dGVuc2lvbiBOYW1lOiBVcGRFeGNoYW5nZVJhdGUNCiBUeXBlIDogRXh0ZW5kTTNUcmFuc2FjdGlvbg0KIFNjcmlwdCBBdXRob3I6IEFydW4gR29wYWwNCiBEYXRlOiAyMDI1LTA0LTAzDQogRGVzY3JpcHRpb246IFVwZGF0ZSByZWNlbnQgZXhjaGFuZ2UgcmF0ZSBmcm9tIENSUzA1NSB3LnIudC4gSW52b2ljZSBkYXRlDQogUmV2aXNpb24gSGlzdG9yeToNCiBOYW1lICAgICAgICAgICAgICAgICBEYXRlICAgICAgICAgICAgIFZlcnNpb24gICAgICAgICAgRGVzY3JpcHRpb24gb2YgQ2hhbmdlcw0KIEFydW4gR29wYWwgICAgICAgICAgIDIwMjUtMDQtMDMgICAgICAgMS4wICAgICAgICAgICAgICBJbml0aWFsIFZlcnNpb24NCiBBcnVuIEdvcGFsICAgICAgICAgICAyMDI1LTA2LTEzICAgICAgIDEuMSAgICAgICAgICAgICAgQWRkaW5nIG1ldGhvZCBjb21tZW50cw0KIEFydW4gR29wYWwgICAgICAgICAgIDIwMjUtMDYtMjMgICAgICAgMS4yICAgICAgICAgICAgICBSZW5hbWluZyBjb2x1bW4gbmFtZXMNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQovKioNCiAqIFBhcmFtZXRlcnM6IChBbGwgcGFyYW1ldGVycyBhcmUgbWFuZGF0b3J5KQ0KICogQ09OTyAtIENvbXBhbnkNCiAqIERJVkkgLSBEaXZpc2lvbiAoTWFuZGF0b3J5KQ0KICogT1JOTyAtIEN1c3RvbWVyIG9yZGVyIG51bWJlcg0KICovDQoNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOw0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQoNCnB1YmxpYyBjbGFzcyBVcGRFeGNoYW5nZVJhdGUgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KICBTdHJpbmcgQ0hJRDsNCiAgU3RyaW5nIEFSQVQ7DQogIGludCBSR0RUOw0KICBpbnQgUkdUTTsNCg0KICBwdWJsaWMgVXBkRXhjaGFuZ2VSYXRlKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsNCiAgICB0aGlzLm1pID0gbWk7DQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOw0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eTsNCiAgfQ0KDQogIC8qKg0KICAgKiBNYWluIG1ldGhvZA0KICAgKiBAcmV0dXJuDQogICAqLw0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIGludCBDT05PID0gbWkuZ2V0SW4oKS5nZXQoIkNPTk8iKSA9PSBudWxsID8gKGludCkgcHJvZ3JhbS5nZXRMREFaRCgpLmdldCgiQ09OTyIpIDogKGludCkgbWkuZ2V0SW4oKS5nZXQoIkNPTk8iKTsNCiAgICBTdHJpbmcgRElWSSA9IChTdHJpbmcpIG1pLmdldEluKCkuZ2V0KCJESVZJIik7DQogICAgU3RyaW5nIE9STk8gPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiT1JOTyIpOw0KICAgIENISUQgPSB0aGlzLnByb2dyYW0uZ2V0VXNlcigpOw0KICAgIFJHRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnREYXRlWThBc0ludCIpOw0KICAgIFJHVE0gPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnRUaW1lQXNJbnQiKTsNCiAgICBpbnQgSVZEVCA9IFJHRFQ7DQogICAgbG9uZyBETElYOw0KDQogICAgaWYgKERJVkkgPT0gbnVsbCkgew0KICAgICAgbWkuZXJyb3IoIkRpdmlzaW9uIHNob3VsZCBiZSBlbnRlcmVkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vVmFsaWRhdGlvbiBmb3IgRGl2aXNpb24NCiAgICBEQkFjdGlvbiBkYmFDTU5ESVYgPSBkYXRhYmFzZS50YWJsZSgiQ01ORElWIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25DTU5ESVYgPSBkYmFDTU5ESVYuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uQ01ORElWLnNldCgiQ0NDT05PIiwgQ09OTyk7DQogICAgY29uQ01ORElWLnNldCgiQ0NESVZJIiwgRElWSSk7DQogICAgaWYgKCFkYmFDTU5ESVYucmVhZChjb25DTU5ESVYpKSB7DQogICAgICBtaS5lcnJvcigiRGl2aXNpb24gIiArIERJVkkgKyAiIGRvZXMgbm90IGV4aXN0Iik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vRmV0Y2ggZXhjaGFuZ2UgcmF0ZXMNCiAgICBkb3VibGUgQVJBVF9HQlAgPSBmZXRjaEV4Y2hhbmdlUmF0ZShDT05PLCBESVZJLCAiR0JQIiwgSVZEVCk7DQogICAgZG91YmxlIEFSQVRfVVNEID0gZmV0Y2hFeGNoYW5nZVJhdGUoQ09OTywgRElWSSwgIlVTRCIsIElWRFQpOw0KICAgIGRvdWJsZSBBUkFUX0VVUiA9IGZldGNoRXhjaGFuZ2VSYXRlKENPTk8sIERJVkksICJFVVIiLCBJVkRUKTsNCiAgICAvL0NoZWNrIHJlY29yZCBpbiBPSVMxNTENCiAgICBEQkFjdGlvbiBkYmFPT0kxNTAgPSBkYXRhYmFzZS50YWJsZSgiT09JMTUwIikNCiAgICAgIC5pbmRleCgiMjAiKQ0KICAgICAgLnNlbGVjdGlvbigiSEhPUk5PIiwgIkhIRExJWCIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25PT0kxNTAgPSBkYmFPT0kxNTAuZ2V0Q29udGFpbmVyKCk7DQogICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyT09JMTUwID0gew0KICAgICAgREJDb250YWluZXIgZGF0YU9PSTE1MCAtPg0KICAgICAgT1JOTyA9IGRhdGFPT0kxNTAuZ2V0KCJISE9STk8iKTsNCiAgICAgIERMSVggPSBkYXRhT09JMTUwLmdldCgiSEhETElYIik7DQogICAgICAvLyBJbnNlcnQgcmVjb3JkIGluIEN1c3RvbSB0YWJsZQ0KICAgICAgaW5zZXJ0UmVjb3JkSW5DdXN0b21UYWJsZShDT05PLCBESVZJLCBPUk5PLCBETElYLCBBUkFUX0dCUCwgQVJBVF9VU0QsIEFSQVRfRVVSKTsNCiAgICB9DQogICAgaWYgKCFkYmFPT0kxNTAucmVhZEFsbChjb25PT0kxNTAsIDAsIDk5OTksIHJlc3VsdEhhbmRsZXJPT0kxNTApKSB7DQogICAgICAvL1ZhbGlkYXRlIENPIG51bWJlcg0KICAgICAgREJBY3Rpb24gZGJhT09IRUFEID0gZGF0YWJhc2UudGFibGUoIk9PSEVBRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBjb25PT0hFQUQgPSBkYmFPT0hFQUQuZ2V0Q29udGFpbmVyKCk7DQogICAgICBjb25PT0hFQUQuc2V0KCJPQUNPTk8iLCBDT05PKTsNCiAgICAgIGNvbk9PSEVBRC5zZXQoIk9BT1JOTyIsIE9STk8pOw0KICAgICAgaWYgKCFkYmFPT0hFQUQucmVhZChjb25PT0hFQUQpKSB7DQogICAgICAgIE9STk8gPSAiIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vRmV0Y2ggZGVsaXZlcnkgbnVtYmVyDQogICAgICAgIERMSVggPSBmZXRjaERlbGl2ZXJ5TnVtYmVyKENPTk8sIE9STk8pOw0KICAgICAgICBpbnNlcnRSZWNvcmRJbkN1c3RvbVRhYmxlKENPTk8sIERJVkksIE9STk8sIERMSVgsIEFSQVRfR0JQLCBBUkFUX1VTRCwgQVJBVF9FVVIpOw0KICAgICAgfQ0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgfQ0KDQogIC8qKg0KICAgKiBXcml0ZSByZWNvcmQgdG8gdGFibGUgRVhUSU5WDQogICAqLw0KICBwcml2YXRlIFN0cmluZyBpbnNlcnRSZWNvcmRJbkN1c3RvbVRhYmxlKGludCBDT05PLCBTdHJpbmcgRElWSSwgU3RyaW5nIE9STk8sIGxvbmcgRExJWCwgZG91YmxlIEdCUCwgZG91YmxlIFVTRCwgZG91YmxlIEVVUikgew0KICAgIGRlbGV0ZVJlY29yZEZyb21FWFRJTlYoQ09OTywgRElWSSwgT1JOTywgRExJWCk7DQogICAgREJBY3Rpb24gcXVlcnlFWFRJTlYgPSBkYXRhYmFzZS50YWJsZSgiRVhUSU5WIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiRVhDT05PIiwgIkVYRElWSSIsICJFWE9STk8iLCAiRVhETElYIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lckVYVElOViA9IHF1ZXJ5RVhUSU5WLmNyZWF0ZUNvbnRhaW5lcigpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYQ09OTyIsIENPTk8pOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYRElWSSIsIERJVkkpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYT1JOTyIsIE9STk8pOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYRExJWCIsIERMSVgpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYQ0dCUCIsIEdCUCk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhDVVNEIiwgVVNEKTsNCiAgICBjb250YWluZXJFWFRJTlYuc2V0KCJFWENFVVIiLCBFVVIpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYUkdEVCIsIFJHRFQpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYUkdUTSIsIFJHVE0pOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYTE1EVCIsIFJHRFQpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYQ0hOTyIsIDEpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYQ0hJRCIsIENISUQpOw0KICAgIHF1ZXJ5RVhUSU5WLmluc2VydChjb250YWluZXJFWFRJTlYpOw0KICB9DQoNCiAgLyoqDQogICAqIFJldHJpZXZlIHRoZSBEZWxpdmVyeSBudW1iZXINCiAgICogQHJldHVybiBEZWxpdmVyeSBudW1iZXINCiAgICovDQogIHByaXZhdGUgbG9uZyBmZXRjaERlbGl2ZXJ5TnVtYmVyKGludCBDT05PLCBTdHJpbmcgT1JOTykgew0KICAgIGxvbmcgdmFsdWUgPSAwOw0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTUhESVNIIik7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uZXEoIk9RUklETiIsIE9STk8pOw0KICAgIERCQWN0aW9uIGRiYU1IRElTSCA9IGRhdGFiYXNlLnRhYmxlKCJNSERJU0giKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAubWF0Y2hpbmcoZXhwcmVzc2lvbikNCiAgICAgIC5zZWxlY3Rpb24oIk9RQ09OTyIsICJPUUlOT1UiLCAiT1FSSUROIiwgIk9RRExJWCIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25NSERJU0ggPSBkYmFNSERJU0guZ2V0Q29udGFpbmVyKCk7DQogICAgY29uTUhESVNILnNldEludCgiT1FDT05PIiwgQ09OTyk7DQogICAgY29uTUhESVNILnNldEludCgiT1FJTk9VIiwgMSk7DQogICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyTUhESVNIID0gew0KICAgICAgREJDb250YWluZXIgZGF0YU1IRElTSCAtPg0KICAgICAgdmFsdWUgPSBkYXRhTUhESVNILmdldCgiT1FETElYIik7DQogICAgfQ0KICAgIGlmICghZGJhTUhESVNILnJlYWRBbGwoY29uTUhESVNILCAyLCAxLCByZXN1bHRIYW5kbGVyTUhESVNIKSkgew0KICAgICAgLy9ObyBhY3Rpb24gdGFrZW4NCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgcmV0dXJuIHZhbHVlOw0KICB9DQoNCiAgLyoqDQogICAqIERlbGV0ZSByZWNvcmQgZnJvbSB0YWJsZSBFWFRJTlYNCiAgICovDQogIHByaXZhdGUgU3RyaW5nIGRlbGV0ZVJlY29yZEZyb21FWFRJTlYoaW50IENPTk8sIFN0cmluZyBESVZJLCBTdHJpbmcgT1JOTywgbG9uZyBETElYKSB7DQogICAgREJBY3Rpb24gZGJhRVhUSU5WID0gZGF0YWJhc2UudGFibGUoIkVYVElOViIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5zZWxlY3Rpb24oIkVYQ09OTyIsICJFWERJVkkiLCAiRVhPUk5PIiwgIkVYRExJWCIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25FWFRJTlYgPSBkYmFFWFRJTlYuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uRVhUSU5WLnNldEludCgiRVhDT05PIiwgQ09OTyk7DQogICAgY29uRVhUSU5WLnNldCgiRVhESVZJIiwgRElWSSk7DQogICAgY29uRVhUSU5WLnNldCgiRVhPUk5PIiwgT1JOTyk7DQogICAgY29uRVhUSU5WLnNldExvbmcoIkVYRExJWCIsIERMSVgpOw0KICAgIC8vIERlbGV0ZSByZWNvcmQgZnJvbSB0aGUgdGFibGUgT09BRFJFDQogICAgQ2xvc3VyZSA8ID8gPiBkZWxldGVFWFRJTlZDYWxsYmFjayA9IHsNCiAgICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4NCiAgICAgIGxvY2tlZFJlc3VsdC5kZWxldGUoKTsNCiAgICB9DQogICAgaWYgKCFkYmFFWFRJTlYucmVhZExvY2soY29uRVhUSU5WLCBkZWxldGVFWFRJTlZDYWxsYmFjaykpIHsNCiAgICAgIC8vTmV4dCBzdGVwDQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIFJldHJpZXZlIHRoZSBDdXJyZW50IGV4Y2hhbmdlIHJhdGUgYmFzZWQgb24gdGhlIEludm9pY2UgZGF0ZQ0KICAgKiBAcmV0dXJuIEN1cnJlbnQgZXhjaGFuZ2UgcmF0ZQ0KICAgKi8NCiAgcHJpdmF0ZSBkb3VibGUgZmV0Y2hFeGNoYW5nZVJhdGUoaW50IENPTk8sIFN0cmluZyBESVZJLCBTdHJpbmcgQ1VDRCwgaW50IElWRFQpIHsNCiAgICBkb3VibGUgdmFsdWUgPSAwLjAwOw0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiQ0NVUlJBIik7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ubGUoIkNVQ1VURCIsIFN0cmluZy52YWx1ZU9mKElWRFQpKTsNCiAgICBEQkFjdGlvbiBkYmFDQ1VSUkEgPSBkYXRhYmFzZS50YWJsZSgiQ0NVUlJBIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLm1hdGNoaW5nKGV4cHJlc3Npb24pDQogICAgICAuc2VsZWN0aW9uKCJDVUNPTk8iLCAiQ1VESVZJIiwgIkNVQ1VDRCIsICJDVUNSVFAiLCAiQ1VDVVREIiwgIkNVQVJBVCIpDQogICAgICAucmV2ZXJzZSgpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25DQ1VSUkEgPSBkYmFDQ1VSUkEuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uQ0NVUlJBLnNldEludCgiQ1VDT05PIiwgQ09OTyk7DQogICAgY29uQ0NVUlJBLnNldCgiQ1VESVZJIiwgRElWSSk7DQogICAgY29uQ0NVUlJBLnNldCgiQ1VDVUNEIiwgQ1VDRCk7DQogICAgY29uQ0NVUlJBLnNldEludCgiQ1VDUlRQIiwgMSk7DQogICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyQ0NVUlJBID0gew0KICAgICAgREJDb250YWluZXIgZGF0YUNDVVJSQSAtPg0KICAgICAgdmFsdWUgPSBkYXRhQ0NVUlJBLmdldCgiQ1VBUkFUIik7DQogICAgfQ0KICAgIGlmICghZGJhQ0NVUlJBLnJlYWRBbGwoY29uQ0NVUlJBLCA0LCAxLCByZXN1bHRIYW5kbGVyQ0NVUlJBKSkgew0KICAgICAgbWkuZXJyb3IoIkN1cnJlbmN5ICIgKyBDVUNEICsgIiBpcyBpbnZhbGlkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIHJldHVybiB2YWx1ZTsNCiAgfQ0KfQ=="}}}