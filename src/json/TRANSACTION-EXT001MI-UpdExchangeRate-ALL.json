{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdExchangeRate":{"sourceUuid":"bdac54da-b9ed-47c8-a3e3-52664614e1fa","name":"UpdExchangeRate","program":"EXT001MI","description":"Update exchange rate","active":true,"multi":false,"modified":1744074249651,"modifiedBy":"AGOPAL","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A"},{"name":"ORNO","description":"CO number","length":10,"mandatory":false,"type":"A"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"bdac54da-b9ed-47c8-a3e3-52664614e1fa":{"uuid":"bdac54da-b9ed-47c8-a3e3-52664614e1fa","updated":1749838274770,"updatedBy":"AGOPAL","created":1743984475253,"createdBy":"AGOPAL","apiVersion":"0.21","beVersion":"16.0.0.20250318170439.10","language":"GROOVY","codeHash":"852279C61E37BAFAAB0755FFB4B74ECFC07FDF6B99C9C8FE88363D350598CE87","code":"LyoqDQogKiAgQnVzaW5lc3MgRW5naW5lIEV4dGVuc2lvbg0KICovDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KIEV4dGVuc2lvbiBOYW1lOiBVcGRFeGNoYW5nZVJhdGUNCiBUeXBlIDogRXh0ZW5kTTNUcmFuc2FjdGlvbg0KIFNjcmlwdCBBdXRob3I6IEFydW4gR29wYWwNCiBEYXRlOiAyMDI1LTA0LTAzDQogRGVzY3JpcHRpb246IFVwZGF0ZSByZWNlbnQgZXhjaGFuZ2UgcmF0ZSBmcm9tIENSUzA1NSB3LnIudC4gSW52b2ljZSBkYXRlDQogUmV2aXNpb24gSGlzdG9yeToNCiBOYW1lICAgICAgICAgICAgICAgICBEYXRlICAgICAgICAgICAgIFZlcnNpb24gICAgICAgICAgRGVzY3JpcHRpb24gb2YgQ2hhbmdlcw0KIEFydW4gR29wYWwgICAgICAgICAgIDIwMjUtMDQtMDMgICAgICAgMS4wICAgICAgICAgICAgICBJbml0aWFsIFZlcnNpb24NCiBBcnVuIEdvcGFsICAgICAgICAgICAyMDI1LTA2LTEzICAgICAgIDEuMSAgICAgICAgICAgICAgQWRkaW5nIG1ldGhvZCBjb21tZW50cw0KICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi8qKg0KICogUGFyYW1ldGVyczogKEFsbCBwYXJhbWV0ZXJzIGFyZSBtYW5kYXRvcnkpDQogKiBDT05PIC0gQ29tcGFueQ0KICogRElWSSAtIERpdmlzaW9uIChNYW5kYXRvcnkpDQogKiBPUk5PIC0gQ3VzdG9tZXIgb3JkZXIgbnVtYmVyDQogKi8NCg0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7DQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7DQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcjsNCg0KcHVibGljIGNsYXNzIFVwZEV4Y2hhbmdlUmF0ZSBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pOw0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOw0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbTsNCiAgcHJpdmF0ZSBmaW5hbCBVdGlsaXR5QVBJIHV0aWxpdHk7DQogIFN0cmluZyBDSElEOw0KICBTdHJpbmcgQVJBVDsNCiAgaW50IFJHRFQ7DQogIGludCBSR1RNOw0KDQogIHB1YmxpYyBVcGRFeGNoYW5nZVJhdGUoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIFV0aWxpdHlBUEkgdXRpbGl0eSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5Ow0KICB9DQoNCiAgLyoqDQogICAqIE1haW4gbWV0aG9kDQogICAqIEByZXR1cm4NCiAgICovDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgaW50IENPTk8gPSBtaS5nZXRJbigpLmdldCgiQ09OTyIpID09IG51bGwgPyAoaW50KSBwcm9ncmFtLmdldExEQVpEKCkuZ2V0KCJDT05PIikgOiAoaW50KSBtaS5nZXRJbigpLmdldCgiQ09OTyIpOw0KICAgIFN0cmluZyBESVZJID0gKFN0cmluZykgbWkuZ2V0SW4oKS5nZXQoIkRJVkkiKTsNCiAgICBTdHJpbmcgT1JOTyA9IChTdHJpbmcpIG1pLmdldEluKCkuZ2V0KCJPUk5PIik7DQogICAgQ0hJRCA9IHRoaXMucHJvZ3JhbS5nZXRVc2VyKCk7DQogICAgUkdEVCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY3VycmVudERhdGVZOEFzSW50Iik7DQogICAgUkdUTSA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY3VycmVudFRpbWVBc0ludCIpOw0KICAgIGludCBJVkRUID0gUkdEVDsNCiAgICBsb25nIERMSVg7DQoNCiAgICBpZiAoRElWSSA9PSBudWxsKSB7DQogICAgICBtaS5lcnJvcigiRGl2aXNpb24gc2hvdWxkIGJlIGVudGVyZWQiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgLy9WYWxpZGF0aW9uIGZvciBEaXZpc2lvbg0KICAgIERCQWN0aW9uIGRiYUNNTkRJViA9IGRhdGFiYXNlLnRhYmxlKCJDTU5ESVYiKS5pbmRleCgiMDAiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbkNNTkRJViA9IGRiYUNNTkRJVi5nZXRDb250YWluZXIoKTsNCiAgICBjb25DTU5ESVYuc2V0KCJDQ0NPTk8iLCBDT05PKTsNCiAgICBjb25DTU5ESVYuc2V0KCJDQ0RJVkkiLCBESVZJKTsNCiAgICBpZiAoIWRiYUNNTkRJVi5yZWFkKGNvbkNNTkRJVikpIHsNCiAgICAgIG1pLmVycm9yKCJEaXZpc2lvbiAiICsgRElWSSArICIgZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgLy9GZXRjaCBleGNoYW5nZSByYXRlcw0KICAgIFN0cmluZyBBUkFUX0dCUCA9IGZldGNoRXhjaGFuZ2VSYXRlKENPTk8sIERJVkksICJHQlAiLCBJVkRUKTsNCiAgICBTdHJpbmcgQVJBVF9VU0QgPSBmZXRjaEV4Y2hhbmdlUmF0ZShDT05PLCBESVZJLCAiVVNEIiwgSVZEVCk7DQogICAgU3RyaW5nIEFSQVRfRVVSID0gZmV0Y2hFeGNoYW5nZVJhdGUoQ09OTywgRElWSSwgIkVVUiIsIElWRFQpOw0KICAgIC8vQ2hlY2sgcmVjb3JkIGluIE9JUzE1MQ0KICAgIERCQWN0aW9uIGRiYU9PSTE1MCA9IGRhdGFiYXNlLnRhYmxlKCJPT0kxNTAiKQ0KICAgICAgLmluZGV4KCIyMCIpDQogICAgICAuc2VsZWN0aW9uKCJISE9STk8iLCAiSEhETElYIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk9PSTE1MCA9IGRiYU9PSTE1MC5nZXRDb250YWluZXIoKTsNCiAgICBDbG9zdXJlIDwgPyA+IHJlc3VsdEhhbmRsZXJPT0kxNTAgPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhT09JMTUwIC0+DQogICAgICBPUk5PID0gZGF0YU9PSTE1MC5nZXQoIkhIT1JOTyIpOw0KICAgICAgRExJWCA9IGRhdGFPT0kxNTAuZ2V0KCJISERMSVgiKTsNCiAgICAgIC8vIEluc2VydCByZWNvcmQgaW4gQ3VzdG9tIHRhYmxlDQogICAgICBpbnNlcnRSZWNvcmRJbkN1c3RvbVRhYmxlKENPTk8sIERJVkksIE9STk8sIERMSVgsIEFSQVRfR0JQLCBBUkFUX1VTRCwgQVJBVF9FVVIpOw0KICAgIH0NCiAgICBpZiAoIWRiYU9PSTE1MC5yZWFkQWxsKGNvbk9PSTE1MCwgMCwgOTk5OSwgcmVzdWx0SGFuZGxlck9PSTE1MCkpIHsNCiAgICAgIC8vVmFsaWRhdGUgQ08gbnVtYmVyDQogICAgICBEQkFjdGlvbiBkYmFPT0hFQUQgPSBkYXRhYmFzZS50YWJsZSgiT09IRUFEIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgICAgIERCQ29udGFpbmVyIGNvbk9PSEVBRCA9IGRiYU9PSEVBRC5nZXRDb250YWluZXIoKTsNCiAgICAgIGNvbk9PSEVBRC5zZXQoIk9BQ09OTyIsIENPTk8pOw0KICAgICAgY29uT09IRUFELnNldCgiT0FPUk5PIiwgT1JOTyk7DQogICAgICBpZiAoIWRiYU9PSEVBRC5yZWFkKGNvbk9PSEVBRCkpIHsNCiAgICAgICAgT1JOTyA9ICIiOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy9GZXRjaCBkZWxpdmVyeSBudW1iZXINCiAgICAgICAgRExJWCA9IGZldGNoRGVsaXZlcnlOdW1iZXIoQ09OTywgT1JOTyk7DQogICAgICAgIGluc2VydFJlY29yZEluQ3VzdG9tVGFibGUoQ09OTywgRElWSSwgT1JOTywgRExJWCwgQVJBVF9HQlAsIEFSQVRfVVNELCBBUkFUX0VVUik7DQogICAgICB9DQogICAgICByZXR1cm47DQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIFdyaXRlIHJlY29yZCB0byB0YWJsZSBFWFRJTlYNCiAgICovDQogIHByaXZhdGUgU3RyaW5nIGluc2VydFJlY29yZEluQ3VzdG9tVGFibGUoaW50IENPTk8sIFN0cmluZyBESVZJLCBTdHJpbmcgT1JOTywgbG9uZyBETElYLCBTdHJpbmcgR0JQLCBTdHJpbmcgVVNELCBTdHJpbmcgRVVSKSB7DQogICAgZGVsZXRlUmVjb3JkRnJvbUVYVElOVihDT05PLCBESVZJLCBPUk5PLCBETElYKTsNCiAgICBEQkFjdGlvbiBxdWVyeUVYVElOViA9IGRhdGFiYXNlLnRhYmxlKCJFWFRJTlYiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJFWENPTk8iLCAiRVhESVZJIiwgIkVYT1JOTyIsICJFWERMSVgiKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUSU5WID0gcXVlcnlFWFRJTlYuY3JlYXRlQ29udGFpbmVyKCk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhDT05PIiwgQ09OTyk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhESVZJIiwgRElWSSk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhPUk5PIiwgT1JOTyk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhETElYIiwgRExJWCk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhVREYxIiwgR0JQKTsNCiAgICBjb250YWluZXJFWFRJTlYuc2V0KCJFWFVERjIiLCBVU0QpOw0KICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYVURGMyIsIEVVUik7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhSR0RUIiwgUkdEVCk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhSR1RNIiwgUkdUTSk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhMTURUIiwgUkdEVCk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhDSE5PIiwgMSk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhDSElEIiwgQ0hJRCk7DQogICAgcXVlcnlFWFRJTlYuaW5zZXJ0KGNvbnRhaW5lckVYVElOVik7DQogIH0NCg0KICAvKioNCiAgICogUmV0cmlldmUgdGhlIERlbGl2ZXJ5IG51bWJlcg0KICAgKiBAcmV0dXJuIERlbGl2ZXJ5IG51bWJlcg0KICAgKi8NCiAgcHJpdmF0ZSBsb25nIGZldGNoRGVsaXZlcnlOdW1iZXIoaW50IENPTk8sIFN0cmluZyBPUk5PKSB7DQogICAgbG9uZyB2YWx1ZSA9IDA7DQogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNSERJU0giKTsNCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5lcSgiT1FSSUROIiwgT1JOTyk7DQogICAgREJBY3Rpb24gZGJhTUhESVNIID0gZGF0YWJhc2UudGFibGUoIk1IRElTSCIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5tYXRjaGluZyhleHByZXNzaW9uKQ0KICAgICAgLnNlbGVjdGlvbigiT1FDT05PIiwgIk9RSU5PVSIsICJPUVJJRE4iLCAiT1FETElYIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk1IRElTSCA9IGRiYU1IRElTSC5nZXRDb250YWluZXIoKTsNCiAgICBjb25NSERJU0guc2V0SW50KCJPUUNPTk8iLCBDT05PKTsNCiAgICBjb25NSERJU0guc2V0SW50KCJPUUlOT1UiLCAxKTsNCiAgICBDbG9zdXJlIDwgPyA+IHJlc3VsdEhhbmRsZXJNSERJU0ggPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhTUhESVNIIC0+DQogICAgICB2YWx1ZSA9IGRhdGFNSERJU0guZ2V0KCJPUURMSVgiKTsNCiAgICB9DQogICAgaWYgKCFkYmFNSERJU0gucmVhZEFsbChjb25NSERJU0gsIDIsIDEsIHJlc3VsdEhhbmRsZXJNSERJU0gpKSB7DQogICAgICAvL05vIGFjdGlvbiB0YWtlbg0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICByZXR1cm4gdmFsdWU7DQogIH0NCg0KICAvKioNCiAgICogRGVsZXRlIHJlY29yZCBmcm9tIHRhYmxlIEVYVElOVg0KICAgKi8NCiAgcHJpdmF0ZSBTdHJpbmcgZGVsZXRlUmVjb3JkRnJvbUVYVElOVihpbnQgQ09OTywgU3RyaW5nIERJVkksIFN0cmluZyBPUk5PLCBsb25nIERMSVgpIHsNCiAgICBEQkFjdGlvbiBkYmFFWFRJTlYgPSBkYXRhYmFzZS50YWJsZSgiRVhUSU5WIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiRVhDT05PIiwgIkVYRElWSSIsICJFWE9STk8iLCAiRVhETElYIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbkVYVElOViA9IGRiYUVYVElOVi5nZXRDb250YWluZXIoKTsNCiAgICBjb25FWFRJTlYuc2V0SW50KCJFWENPTk8iLCBDT05PKTsNCiAgICBjb25FWFRJTlYuc2V0KCJFWERJVkkiLCBESVZJKTsNCiAgICBjb25FWFRJTlYuc2V0KCJFWE9STk8iLCBPUk5PKTsNCiAgICBjb25FWFRJTlYuc2V0TG9uZygiRVhETElYIiwgRExJWCk7DQogICAgLy8gRGVsZXRlIHJlY29yZCBmcm9tIHRoZSB0YWJsZSBPT0FEUkUNCiAgICBDbG9zdXJlIDwgPyA+IGRlbGV0ZUVYVElOVkNhbGxiYWNrID0gew0KICAgICAgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPg0KICAgICAgbG9ja2VkUmVzdWx0LmRlbGV0ZSgpOw0KICAgIH0NCiAgICBpZiAoIWRiYUVYVElOVi5yZWFkTG9jayhjb25FWFRJTlYsIGRlbGV0ZUVYVElOVkNhbGxiYWNrKSkgew0KICAgICAgLy9OZXh0IHN0ZXANCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogUmV0cmlldmUgdGhlIEN1cnJlbnQgZXhjaGFuZ2UgcmF0ZSBiYXNlZCBvbiB0aGUgSW52b2ljZSBkYXRlDQogICAqIEByZXR1cm4gQ3VycmVudCBleGNoYW5nZSByYXRlDQogICAqLw0KICBwcml2YXRlIFN0cmluZyBmZXRjaEV4Y2hhbmdlUmF0ZShpbnQgQ09OTywgU3RyaW5nIERJVkksIFN0cmluZyBDVUNELCBpbnQgSVZEVCkgew0KICAgIFN0cmluZyB2YWx1ZSA9ICIiOw0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiQ0NVUlJBIik7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ubGUoIkNVQ1VURCIsIFN0cmluZy52YWx1ZU9mKElWRFQpKTsNCiAgICBEQkFjdGlvbiBkYmFDQ1VSUkEgPSBkYXRhYmFzZS50YWJsZSgiQ0NVUlJBIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLm1hdGNoaW5nKGV4cHJlc3Npb24pDQogICAgICAuc2VsZWN0aW9uKCJDVUNPTk8iLCAiQ1VESVZJIiwgIkNVQ1VDRCIsICJDVUNSVFAiLCAiQ1VDVVREIiwgIkNVQVJBVCIpDQogICAgICAucmV2ZXJzZSgpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25DQ1VSUkEgPSBkYmFDQ1VSUkEuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uQ0NVUlJBLnNldEludCgiQ1VDT05PIiwgQ09OTyk7DQogICAgY29uQ0NVUlJBLnNldCgiQ1VESVZJIiwgRElWSSk7DQogICAgY29uQ0NVUlJBLnNldCgiQ1VDVUNEIiwgQ1VDRCk7DQogICAgY29uQ0NVUlJBLnNldEludCgiQ1VDUlRQIiwgMSk7DQogICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyQ0NVUlJBID0gew0KICAgICAgREJDb250YWluZXIgZGF0YUNDVVJSQSAtPg0KICAgICAgdmFsdWUgPSBkYXRhQ0NVUlJBLmdldCgiQ1VBUkFUIik7DQogICAgfQ0KICAgIGlmICghZGJhQ0NVUlJBLnJlYWRBbGwoY29uQ0NVUlJBLCA0LCAxLCByZXN1bHRIYW5kbGVyQ0NVUlJBKSkgew0KICAgICAgbWkuZXJyb3IoIkN1cnJlbmN5ICIgKyBDVUNEICsgIiBpcyBpbnZhbGlkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIHJldHVybiB2YWx1ZTsNCiAgfQ0KfQ=="}}}