{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdInvoiceNum":{"sourceUuid":"68ac2504-f4ad-49df-b0c1-c02fa258a7fc","name":"UpdInvoiceNum","program":"EXT001MI","description":"Update invoice number","active":true,"multi":false,"modified":1750661462394,"modifiedBy":"AGOPAL","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A","refField":null},{"name":"EXIN","description":"Ext invoice num","length":14,"mandatory":true,"type":"A","refField":null}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"68ac2504-f4ad-49df-b0c1-c02fa258a7fc":{"uuid":"68ac2504-f4ad-49df-b0c1-c02fa258a7fc","updated":1750661844324,"updatedBy":"AGOPAL","created":1744253372016,"createdBy":"AGOPAL","apiVersion":"0.21","beVersion":"16.0.0.20250414161800.6","language":"GROOVY","codeHash":"865ECDA38771A0969B812F6D79105FD08899A4310C86BA0E04F69A00595E5952","code":"LyoqDQogKiAgQnVzaW5lc3MgRW5naW5lIEV4dGVuc2lvbg0KICovDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KIEV4dGVuc2lvbiBOYW1lOiBVcGRJbnZvaWNlTnVtDQogVHlwZSA6IEV4dGVuZE0zVHJhbnNhY3Rpb24NCiBTY3JpcHQgQXV0aG9yOiBBcnVuIEdvcGFsDQogRGF0ZTogMjAyNS0wNC0wOQ0KIERlc2NyaXB0aW9uOiBVcGRhdGUgSW52b2ljZSBudW1iZXIgdG8gdGhlIGNvcnJlc3BvbmRpbmcgQ08gbnVtYmVyDQogUmV2aXNpb24gSGlzdG9yeToNCiBOYW1lICAgICAgICAgICAgICAgICBEYXRlICAgICAgICAgICAgIFZlcnNpb24gICAgICAgICAgRGVzY3JpcHRpb24gb2YgQ2hhbmdlcw0KIEFydW4gR29wYWwgICAgICAgICAgIDIwMjUtMDQtMDkgICAgICAgMS4wICAgICAgICAgICAgICBJbml0aWFsIFZlcnNpb24NCiBBcnVuIEdvcGFsICAgICAgICAgICAyMDI1LTA2LTEzICAgICAgIDEuMSAgICAgICAgICAgICAgQWRkaW5nIG1ldGhvZCBjb21tZW50cw0KIEFydW4gR29wYWwgICAgICAgICAgIDIwMjUtMDYtMjMgICAgICAgMS4yICAgICAgICAgICAgICBSZW5hbWluZyBjb2x1bW4gbmFtZXMNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQovKioNCiAqIFBhcmFtZXRlcnM6IChBbGwgcGFyYW1ldGVycyBhcmUgbWFuZGF0b3J5KQ0KICogQ09OTyAtIENvbXBhbnkNCiAqIERJVkkgLSBEaXZpc2lvbiAoTWFuZGF0b3J5KQ0KICogRVhJTiAtIEV4dGVuZGVkIEludm9pY2UgbnVtYmVyIChNYW5kYXRvcnkpDQogKi8NCg0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7DQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7DQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcjsNCg0KcHVibGljIGNsYXNzIFVwZEludm9pY2VOdW0gZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KICBTdHJpbmcgQ0hJRDsNCiAgU3RyaW5nIEVYSU47DQogIGRvdWJsZSBDR0JQOw0KICBkb3VibGUgQ1VTRDsNCiAgZG91YmxlIENFVVI7DQogIGludCBSR0RUOw0KICBpbnQgUkdUTTsNCg0KICBwdWJsaWMgVXBkSW52b2ljZU51bShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgVXRpbGl0eUFQSSB1dGlsaXR5KSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHk7DQogIH0NCg0KICAvKioNCiAgICogTWFpbiBtZXRob2QNCiAgICogQHJldHVybg0KICAgKi8NCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpbnQgQ09OTyA9IG1pLmdldEluKCkuZ2V0KCJDT05PIikgPT0gbnVsbCA/IChpbnQpIHByb2dyYW0uZ2V0TERBWkQoKS5nZXQoIkNPTk8iKSA6IChpbnQpIG1pLmdldEluKCkuZ2V0KCJDT05PIik7DQogICAgU3RyaW5nIERJVkkgPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiRElWSSIpOw0KICAgIEVYSU4gPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiRVhJTiIpOw0KICAgIENISUQgPSB0aGlzLnByb2dyYW0uZ2V0VXNlcigpOw0KICAgIFJHRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnREYXRlWThBc0ludCIpOw0KICAgIFJHVE0gPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnRUaW1lQXNJbnQiKTsNCiAgICBpbnQgSVZEVCA9IFJHRFQ7DQoNCiAgICBpZiAoRElWSSA9PSBudWxsKSB7DQogICAgICBtaS5lcnJvcigiRGl2aXNpb24gc2hvdWxkIGJlIGVudGVyZWQiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYgKEVYSU4gPT0gbnVsbCkgew0KICAgICAgbWkuZXJyb3IoIkV4dGVuZGVkIEludm9pY2UgbnVtYmVyIHNob3VsZCBiZSBlbnRlcmVkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vVmFsaWRhdGlvbiBmb3IgRGl2aXNpb24NCiAgICBEQkFjdGlvbiBkYmFDTU5ESVYgPSBkYXRhYmFzZS50YWJsZSgiQ01ORElWIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25DTU5ESVYgPSBkYmFDTU5ESVYuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uQ01ORElWLnNldCgiQ0NDT05PIiwgQ09OTyk7DQogICAgY29uQ01ORElWLnNldCgiQ0NESVZJIiwgRElWSSk7DQogICAgaWYgKCFkYmFDTU5ESVYucmVhZChjb25DTU5ESVYpKSB7DQogICAgICBtaS5lcnJvcigiRGl2aXNpb24gIiArIERJVkkgKyAiIGRvZXMgbm90IGV4aXN0Iik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vRmV0Y2ggZXhjaGFuZ2UgcmF0ZXMNCiAgICBDR0JQID0gZmV0Y2hFeGNoYW5nZVJhdGUoQ09OTywgRElWSSwgIkdCUCIsIElWRFQpOw0KICAgIENVU0QgPSBmZXRjaEV4Y2hhbmdlUmF0ZShDT05PLCBESVZJLCAiVVNEIiwgSVZEVCk7DQogICAgQ0VVUiA9IGZldGNoRXhjaGFuZ2VSYXRlKENPTk8sIERJVkksICJFVVIiLCBJVkRUKTsNCiAgICAvL1ZhbGlkYXRpb24gZm9yIEludm9pY2UgbnVtYmVyDQogICAgaW50IFlFQTQgPSAwOw0KICAgIFN0cmluZyBJTlBYID0gIiI7DQogICAgaW50IElWTk8gPSAwOw0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiT0lOVk9IIik7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uZXEoIlVIRVhJTiIsIEVYSU4pOw0KICAgIERCQWN0aW9uIGRiYU9JTlZPSCA9IGRhdGFiYXNlLnRhYmxlKCJPSU5WT0giKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAubWF0Y2hpbmcoZXhwcmVzc2lvbikNCiAgICAgIC5zZWxlY3Rpb24oIlVIQ09OTyIsICJVSERJVkkiLCAiVUhFWElOIiwgIlVIWUVBNCIsICJVSElOUFgiLCAiVUhJVk5PIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk9JTlZPSCA9IGRiYU9JTlZPSC5nZXRDb250YWluZXIoKTsNCiAgICBjb25PSU5WT0guc2V0SW50KCJVSENPTk8iLCBDT05PKTsNCiAgICBjb25PSU5WT0guc2V0KCJVSERJVkkiLCBESVZJKTsNCiAgICBDbG9zdXJlIDwgPyA+IHJlc3VsdEhhbmRsZXJPSU5WT0ggPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhT0lOVk9IIC0+DQogICAgICBZRUE0ID0gZGF0YU9JTlZPSC5nZXQoIlVIWUVBNCIpOw0KICAgICAgSU5QWCA9IGRhdGFPSU5WT0guZ2V0KCJVSElOUFgiKTsNCiAgICAgIElWTk8gPSBkYXRhT0lOVk9ILmdldCgiVUhJVk5PIik7DQogICAgfQ0KICAgIGlmICghZGJhT0lOVk9ILnJlYWRBbGwoY29uT0lOVk9ILCAyLCAxLCByZXN1bHRIYW5kbGVyT0lOVk9IKSkgew0KICAgICAgbWkuZXJyb3IoIkludm9pY2UgbnVtYmVyICIgKyBFWElOICsgIiBpcyBpbnZhbGlkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vRmV0Y2ggY3VzdG9tZXIgb3JkZXIgbnVtYmVyDQogICAgU3RyaW5nIE9STk8gPSAiIjsNCiAgICBsb25nIERMSVg7DQogICAgREJBY3Rpb24gZGJhT0RMSU5FID0gZGF0YWJhc2UudGFibGUoIk9ETElORSIpDQogICAgICAuaW5kZXgoIjIwIikNCiAgICAgIC5zZWxlY3Rpb24oIlVCQ09OTyIsICJVQkRJVkkiLCAiVUJZRUE0IiwgIlVCSU5QWCIsICJVQklWTk8iLCAiVUJPUk5PIiwgIlVCRExJWCIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25PRExJTkUgPSBkYmFPRExJTkUuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uT0RMSU5FLnNldEludCgiVUJDT05PIiwgQ09OTyk7DQogICAgY29uT0RMSU5FLnNldCgiVUJESVZJIiwgRElWSSk7DQogICAgY29uT0RMSU5FLnNldEludCgiVUJZRUE0IiwgWUVBNCk7DQogICAgY29uT0RMSU5FLnNldCgiVUJJTlBYIiwgSU5QWCk7DQogICAgY29uT0RMSU5FLnNldEludCgiVUJJVk5PIiwgSVZOTyk7DQogICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyT0RMSU5FID0gew0KICAgICAgREJDb250YWluZXIgZGF0YU9ETElORSAtPg0KICAgICAgT1JOTyA9IGRhdGFPRExJTkUuZ2V0KCJVQk9STk8iKTsNCiAgICAgIERMSVggPSBkYXRhT0RMSU5FLmdldCgiVUJETElYIik7DQogICAgfQ0KICAgIGlmICghZGJhT0RMSU5FLnJlYWRBbGwoY29uT0RMSU5FLCA1LCAxLCByZXN1bHRIYW5kbGVyT0RMSU5FKSkgew0KICAgICAgbWkuZXJyb3IoIlJlY29yZCBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICAvL1VwZGF0ZSBJbnZvaWNlIG51bWJlciB0byBleHRlbnNpb24gdGFibGUNCiAgICBEQkFjdGlvbiBxdWVyeUVYVElOViA9IGRhdGFiYXNlLnRhYmxlKCJFWFRJTlYiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJFWENPTk8iLCAiRVhESVZJIiwgIkVYT1JOTyIsICJFWERMSVgiKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUSU5WID0gcXVlcnlFWFRJTlYuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhDT05PIiwgQ09OTyk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhESVZJIiwgRElWSSk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhPUk5PIiwgT1JOTyk7DQogICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhETElYIiwgRExJWCk7DQogICAgcXVlcnlFWFRJTlYucmVhZExvY2soY29udGFpbmVyRVhUSU5WLCB1cGRhdGVDYWxsQmFjayk7DQogIH0NCg0KICAvKioNCiAgICogVXBkYXRlIEV4dGVuZGVkIGludm9pY2UgbnVtYmVyDQogICAqLw0KICBDbG9zdXJlIDwgPyA+IHVwZGF0ZUNhbGxCYWNrID0gew0KICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4NCiAgICBpbnQgTE1EVCA9IFJHRFQ7DQogICAgaW50IENITk8gPSAoSW50ZWdlcikgbG9ja2VkUmVzdWx0LmdldCgiRVhDSE5PIikgKyAxDQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDR0JQIiwgQ0dCUCk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVVNEIiwgQ1VTRCk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDRVVSIiwgQ0VVUik7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhFWElOIiwgRVhJTik7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTURUIiwgTE1EVCk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSE5PIiwgQ0hOTyk7DQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSElEIiwgQ0hJRCk7DQogICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpOw0KICB9DQogIA0KICAvKioNCiAgICogUmV0cmlldmUgdGhlIEN1cnJlbnQgZXhjaGFuZ2UgcmF0ZSBiYXNlZCBvbiB0aGUgSW52b2ljZSBkYXRlDQogICAqIEByZXR1cm4gQ3VycmVudCBleGNoYW5nZSByYXRlDQogICAqLw0KICBwcml2YXRlIGRvdWJsZSBmZXRjaEV4Y2hhbmdlUmF0ZShpbnQgQ09OTywgU3RyaW5nIERJVkksIFN0cmluZyBDVUNELCBpbnQgSVZEVCkgew0KICAgIGRvdWJsZSB2YWx1ZSA9IDAuMDA7DQogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJDQ1VSUkEiKTsNCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5sZSgiQ1VDVVREIiwgU3RyaW5nLnZhbHVlT2YoSVZEVCkpOw0KICAgIERCQWN0aW9uIGRiYUNDVVJSQSA9IGRhdGFiYXNlLnRhYmxlKCJDQ1VSUkEiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAubWF0Y2hpbmcoZXhwcmVzc2lvbikNCiAgICAgIC5zZWxlY3Rpb24oIkNVQ09OTyIsICJDVURJVkkiLCAiQ1VDVUNEIiwgIkNVQ1JUUCIsICJDVUNVVEQiLCAiQ1VBUkFUIikNCiAgICAgIC5yZXZlcnNlKCkNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbkNDVVJSQSA9IGRiYUNDVVJSQS5nZXRDb250YWluZXIoKTsNCiAgICBjb25DQ1VSUkEuc2V0SW50KCJDVUNPTk8iLCBDT05PKTsNCiAgICBjb25DQ1VSUkEuc2V0KCJDVURJVkkiLCBESVZJKTsNCiAgICBjb25DQ1VSUkEuc2V0KCJDVUNVQ0QiLCBDVUNEKTsNCiAgICBjb25DQ1VSUkEuc2V0SW50KCJDVUNSVFAiLCAxKTsNCiAgICBDbG9zdXJlIDwgPyA+IHJlc3VsdEhhbmRsZXJDQ1VSUkEgPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhQ0NVUlJBIC0+DQogICAgICB2YWx1ZSA9IGRhdGFDQ1VSUkEuZ2V0KCJDVUFSQVQiKTsNCiAgICB9DQogICAgaWYgKCFkYmFDQ1VSUkEucmVhZEFsbChjb25DQ1VSUkEsIDQsIDEsIHJlc3VsdEhhbmRsZXJDQ1VSUkEpKSB7DQogICAgICBtaS5lcnJvcigiQ3VycmVuY3kgIiArIENVQ0QgKyAiIGlzIGludmFsaWQiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgcmV0dXJuIHZhbHVlOw0KICB9DQp9"}}}