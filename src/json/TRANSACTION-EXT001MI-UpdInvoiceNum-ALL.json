{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdInvoiceNum":{"sourceUuid":"68ac2504-f4ad-49df-b0c1-c02fa258a7fc","name":"UpdInvoiceNum","program":"EXT001MI","description":"Update invoice number","active":true,"multi":false,"modified":1750661462394,"modifiedBy":"AGOPAL","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A","refField":null},{"name":"EXIN","description":"Ext invoice num","length":14,"mandatory":true,"type":"A","refField":null}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"68ac2504-f4ad-49df-b0c1-c02fa258a7fc":{"uuid":"68ac2504-f4ad-49df-b0c1-c02fa258a7fc","updated":1750738525108,"updatedBy":"AGOPAL","created":1744253372016,"createdBy":"AGOPAL","apiVersion":"0.21","beVersion":"16.0.0.20250414161800.6","language":"GROOVY","codeHash":"29920803E6AF4E05C0FDCD9F080A3C61231603C8C89C47FAAD97922F2AE6C4AF","code":"LyoqDQogKiAgQnVzaW5lc3MgRW5naW5lIEV4dGVuc2lvbg0KICovDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KIEV4dGVuc2lvbiBOYW1lOiBVcGRJbnZvaWNlTnVtDQogVHlwZSA6IEV4dGVuZE0zVHJhbnNhY3Rpb24NCiBTY3JpcHQgQXV0aG9yOiBBcnVuIEdvcGFsDQogRGF0ZTogMjAyNS0wNC0wOQ0KIERlc2NyaXB0aW9uOiBVcGRhdGUgSW52b2ljZSBudW1iZXIgdG8gdGhlIGNvcnJlc3BvbmRpbmcgQ08gbnVtYmVyDQogUmV2aXNpb24gSGlzdG9yeToNCiBOYW1lICAgICAgICAgICAgICAgICBEYXRlICAgICAgICAgICAgIFZlcnNpb24gICAgICAgICAgRGVzY3JpcHRpb24gb2YgQ2hhbmdlcw0KIEFydW4gR29wYWwgICAgICAgICAgIDIwMjUtMDQtMDkgICAgICAgMS4wICAgICAgICAgICAgICBJbml0aWFsIFZlcnNpb24NCiBBcnVuIEdvcGFsICAgICAgICAgICAyMDI1LTA2LTEzICAgICAgIDEuMSAgICAgICAgICAgICAgQWRkaW5nIG1ldGhvZCBjb21tZW50cw0KIEFydW4gR29wYWwgICAgICAgICAgIDIwMjUtMDYtMjMgICAgICAgMS4yICAgICAgICAgICAgICBSZW5hbWluZyBjb2x1bW4gbmFtZXMNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQovKioNCiAqIFBhcmFtZXRlcnM6IChBbGwgcGFyYW1ldGVycyBhcmUgbWFuZGF0b3J5KQ0KICogQ09OTyAtIENvbXBhbnkNCiAqIERJVkkgLSBEaXZpc2lvbiAoTWFuZGF0b3J5KQ0KICogRVhJTiAtIEV4dGVuZGVkIEludm9pY2UgbnVtYmVyIChNYW5kYXRvcnkpDQogKi8NCg0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7DQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7DQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcjsNCg0KcHVibGljIGNsYXNzIFVwZEludm9pY2VOdW0gZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KICBTdHJpbmcgQ0hJRDsNCiAgU3RyaW5nIEVYSU47DQogIGRvdWJsZSBDR0JQOw0KICBkb3VibGUgQ1VTRDsNCiAgZG91YmxlIENFVVI7DQogIGludCBSR0RUOw0KICBpbnQgUkdUTTsNCg0KICBwdWJsaWMgVXBkSW52b2ljZU51bShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgVXRpbGl0eUFQSSB1dGlsaXR5KSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHk7DQogIH0NCg0KICAvKioNCiAgICogTWFpbiBtZXRob2QNCiAgICogQHJldHVybg0KICAgKi8NCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpbnQgQ09OTyA9IG1pLmdldEluKCkuZ2V0KCJDT05PIikgPT0gbnVsbCA/IChpbnQpIHByb2dyYW0uZ2V0TERBWkQoKS5nZXQoIkNPTk8iKSA6IChpbnQpIG1pLmdldEluKCkuZ2V0KCJDT05PIik7DQogICAgU3RyaW5nIERJVkkgPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiRElWSSIpOw0KICAgIEVYSU4gPSAoU3RyaW5nKSBtaS5nZXRJbigpLmdldCgiRVhJTiIpOw0KICAgIENISUQgPSB0aGlzLnByb2dyYW0uZ2V0VXNlcigpOw0KICAgIFJHRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnREYXRlWThBc0ludCIpOw0KICAgIFJHVE0gPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnRUaW1lQXNJbnQiKTsNCiAgICBpbnQgSVZEVCA9IFJHRFQ7DQoNCiAgICBpZiAoRElWSSA9PSBudWxsKSB7DQogICAgICBtaS5lcnJvcigiRGl2aXNpb24gc2hvdWxkIGJlIGVudGVyZWQiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYgKEVYSU4gPT0gbnVsbCkgew0KICAgICAgbWkuZXJyb3IoIkV4dGVuZGVkIEludm9pY2UgbnVtYmVyIHNob3VsZCBiZSBlbnRlcmVkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vVmFsaWRhdGlvbiBmb3IgRGl2aXNpb24NCiAgICBEQkFjdGlvbiBkYmFDTU5ESVYgPSBkYXRhYmFzZS50YWJsZSgiQ01ORElWIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25DTU5ESVYgPSBkYmFDTU5ESVYuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uQ01ORElWLnNldCgiQ0NDT05PIiwgQ09OTyk7DQogICAgY29uQ01ORElWLnNldCgiQ0NESVZJIiwgRElWSSk7DQogICAgaWYgKCFkYmFDTU5ESVYucmVhZChjb25DTU5ESVYpKSB7DQogICAgICBtaS5lcnJvcigiRGl2aXNpb24gIiArIERJVkkgKyAiIGRvZXMgbm90IGV4aXN0Iik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vRmV0Y2ggZXhjaGFuZ2UgcmF0ZXMNCiAgICBDR0JQID0gZmV0Y2hFeGNoYW5nZVJhdGUoQ09OTywgRElWSSwgIkdCUCIsIElWRFQpOw0KICAgIENVU0QgPSBmZXRjaEV4Y2hhbmdlUmF0ZShDT05PLCBESVZJLCAiVVNEIiwgSVZEVCk7DQogICAgQ0VVUiA9IGZldGNoRXhjaGFuZ2VSYXRlKENPTk8sIERJVkksICJFVVIiLCBJVkRUKTsNCiAgICAvL1ZhbGlkYXRpb24gZm9yIEludm9pY2UgbnVtYmVyDQogICAgaW50IFlFQTQgPSAwOw0KICAgIFN0cmluZyBJTlBYID0gIiI7DQogICAgaW50IElWTk8gPSAwOw0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiT0lOVk9IIik7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uZXEoIlVIRVhJTiIsIEVYSU4pOw0KICAgIERCQWN0aW9uIGRiYU9JTlZPSCA9IGRhdGFiYXNlLnRhYmxlKCJPSU5WT0giKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAubWF0Y2hpbmcoZXhwcmVzc2lvbikNCiAgICAgIC5zZWxlY3Rpb24oIlVIQ09OTyIsICJVSERJVkkiLCAiVUhFWElOIiwgIlVIWUVBNCIsICJVSElOUFgiLCAiVUhJVk5PIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk9JTlZPSCA9IGRiYU9JTlZPSC5nZXRDb250YWluZXIoKTsNCiAgICBjb25PSU5WT0guc2V0SW50KCJVSENPTk8iLCBDT05PKTsNCiAgICBjb25PSU5WT0guc2V0KCJVSERJVkkiLCBESVZJKTsNCiAgICBDbG9zdXJlIDwgPyA+IHJlc3VsdEhhbmRsZXJPSU5WT0ggPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhT0lOVk9IIC0+DQogICAgICBZRUE0ID0gZGF0YU9JTlZPSC5nZXQoIlVIWUVBNCIpOw0KICAgICAgSU5QWCA9IGRhdGFPSU5WT0guZ2V0KCJVSElOUFgiKTsNCiAgICAgIElWTk8gPSBkYXRhT0lOVk9ILmdldCgiVUhJVk5PIik7DQogICAgfQ0KICAgIGlmICghZGJhT0lOVk9ILnJlYWRBbGwoY29uT0lOVk9ILCAyLCAxLCByZXN1bHRIYW5kbGVyT0lOVk9IKSkgew0KICAgICAgbWkuZXJyb3IoIkludm9pY2UgbnVtYmVyICIgKyBFWElOICsgIiBpcyBpbnZhbGlkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vRmV0Y2ggY3VzdG9tZXIgb3JkZXIgbnVtYmVyDQogICAgU3RyaW5nIE9STk8gPSAiIjsNCiAgICBsb25nIERMSVg7DQogICAgREJBY3Rpb24gZGJhT0RMSU5FID0gZGF0YWJhc2UudGFibGUoIk9ETElORSIpDQogICAgICAuaW5kZXgoIjIwIikNCiAgICAgIC5zZWxlY3Rpb24oIlVCQ09OTyIsICJVQkRJVkkiLCAiVUJZRUE0IiwgIlVCSU5QWCIsICJVQklWTk8iLCAiVUJPUk5PIiwgIlVCRExJWCIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25PRExJTkUgPSBkYmFPRExJTkUuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uT0RMSU5FLnNldEludCgiVUJDT05PIiwgQ09OTyk7DQogICAgY29uT0RMSU5FLnNldCgiVUJESVZJIiwgRElWSSk7DQogICAgY29uT0RMSU5FLnNldEludCgiVUJZRUE0IiwgWUVBNCk7DQogICAgY29uT0RMSU5FLnNldCgiVUJJTlBYIiwgSU5QWCk7DQogICAgY29uT0RMSU5FLnNldEludCgiVUJJVk5PIiwgSVZOTyk7DQogICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyT0RMSU5FID0gew0KICAgICAgREJDb250YWluZXIgZGF0YU9ETElORSAtPg0KICAgICAgT1JOTyA9IGRhdGFPRExJTkUuZ2V0KCJVQk9STk8iKTsNCiAgICAgIERMSVggPSBkYXRhT0RMSU5FLmdldCgiVUJETElYIik7DQogICAgICAvL1VwZGF0ZSBJbnZvaWNlIG51bWJlciB0byBleHRlbnNpb24gdGFibGUNCiAgICAgIERCQWN0aW9uIHF1ZXJ5RVhUSU5WID0gZGF0YWJhc2UudGFibGUoIkVYVElOViIpDQogICAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgICAuc2VsZWN0aW9uKCJFWENPTk8iLCAiRVhESVZJIiwgIkVYT1JOTyIsICJFWERMSVgiKQ0KICAgICAgICAuYnVpbGQoKTsNCiAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lckVYVElOViA9IHF1ZXJ5RVhUSU5WLmdldENvbnRhaW5lcigpOw0KICAgICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhDT05PIiwgQ09OTyk7DQogICAgICBjb250YWluZXJFWFRJTlYuc2V0KCJFWERJVkkiLCBESVZJKTsNCiAgICAgIGNvbnRhaW5lckVYVElOVi5zZXQoIkVYT1JOTyIsIE9STk8pOw0KICAgICAgY29udGFpbmVyRVhUSU5WLnNldCgiRVhETElYIiwgRExJWCk7DQogICAgICBxdWVyeUVYVElOVi5yZWFkTG9jayhjb250YWluZXJFWFRJTlYsIHVwZGF0ZUNhbGxCYWNrKTsNCiAgICB9DQogICAgaWYgKCFkYmFPRExJTkUucmVhZEFsbChjb25PRExJTkUsIDUsIDk5OTksIHJlc3VsdEhhbmRsZXJPRExJTkUpKSB7DQogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IGV4aXN0Iik7DQogICAgICByZXR1cm47DQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIFVwZGF0ZSBFeHRlbmRlZCBpbnZvaWNlIG51bWJlcg0KICAgKi8NCiAgQ2xvc3VyZSA8ID8gPiB1cGRhdGVDYWxsQmFjayA9IHsNCiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+DQogICAgaW50IExNRFQgPSBSR0RUOw0KICAgIGludCBDSE5PID0gKEludGVnZXIpIGxvY2tlZFJlc3VsdC5nZXQoIkVYQ0hOTyIpICsgMQ0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0dCUCIsIENHQlApOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VTRCIsIENVU0QpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0VVUiIsIENFVVIpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRVhJTiIsIEVYSU4pOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1EVCIsIExNRFQpOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hOTyIsIENITk8pOw0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hJRCIsIENISUQpOw0KICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKTsNCiAgfQ0KICANCiAgLyoqDQogICAqIFJldHJpZXZlIHRoZSBDdXJyZW50IGV4Y2hhbmdlIHJhdGUgYmFzZWQgb24gdGhlIEludm9pY2UgZGF0ZQ0KICAgKiBAcmV0dXJuIEN1cnJlbnQgZXhjaGFuZ2UgcmF0ZQ0KICAgKi8NCiAgcHJpdmF0ZSBkb3VibGUgZmV0Y2hFeGNoYW5nZVJhdGUoaW50IENPTk8sIFN0cmluZyBESVZJLCBTdHJpbmcgQ1VDRCwgaW50IElWRFQpIHsNCiAgICBkb3VibGUgdmFsdWUgPSAwLjAwOw0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiQ0NVUlJBIik7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ubGUoIkNVQ1VURCIsIFN0cmluZy52YWx1ZU9mKElWRFQpKTsNCiAgICBEQkFjdGlvbiBkYmFDQ1VSUkEgPSBkYXRhYmFzZS50YWJsZSgiQ0NVUlJBIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLm1hdGNoaW5nKGV4cHJlc3Npb24pDQogICAgICAuc2VsZWN0aW9uKCJDVUNPTk8iLCAiQ1VESVZJIiwgIkNVQ1VDRCIsICJDVUNSVFAiLCAiQ1VDVVREIiwgIkNVQVJBVCIpDQogICAgICAucmV2ZXJzZSgpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25DQ1VSUkEgPSBkYmFDQ1VSUkEuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uQ0NVUlJBLnNldEludCgiQ1VDT05PIiwgQ09OTyk7DQogICAgY29uQ0NVUlJBLnNldCgiQ1VESVZJIiwgRElWSSk7DQogICAgY29uQ0NVUlJBLnNldCgiQ1VDVUNEIiwgQ1VDRCk7DQogICAgY29uQ0NVUlJBLnNldEludCgiQ1VDUlRQIiwgMSk7DQogICAgQ2xvc3VyZSA8ID8gPiByZXN1bHRIYW5kbGVyQ0NVUlJBID0gew0KICAgICAgREJDb250YWluZXIgZGF0YUNDVVJSQSAtPg0KICAgICAgdmFsdWUgPSBkYXRhQ0NVUlJBLmdldCgiQ1VBUkFUIik7DQogICAgfQ0KICAgIGlmICghZGJhQ0NVUlJBLnJlYWRBbGwoY29uQ0NVUlJBLCA0LCAxLCByZXN1bHRIYW5kbGVyQ0NVUlJBKSkgew0KICAgICAgbWkuZXJyb3IoIkN1cnJlbmN5ICIgKyBDVUNEICsgIiBpcyBpbnZhbGlkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIHJldHVybiB2YWx1ZTsNCiAgfQ0KfQ=="}}}